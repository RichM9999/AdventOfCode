//https://adventofcode.com/2025/day/10
namespace AdventOfCode.Year2025
{
    using Microsoft.Z3;

    [SlowDay]
    class Day10 : IDay
    {
        private readonly List<string> machines = [];

        public void Run()
        {
            LoadData();

            var start = DateTime.Now;

            // 475
            Console.WriteLine($"Part 1 answer: {Part1()}");
            // 18273
            Console.WriteLine($"Part 2 answer: {Part2()}");

            Console.WriteLine($"{(DateTime.Now - start).TotalMilliseconds}ms");
        }

        private long Part1()
        {
            return MinimalPresses(true);
        }

        private long Part2()
        {
            return MinimalPresses(false);
        }

        #region From https://github.com/mohammedsouleymane/AdventOfCode/blob/main/AdventOfCode/Aoc2025/Day10.cs
        private int MinimalPresses(bool one)
        {
            var sum = 0;
            foreach (var machine in machines)
            {
                var parsed = machine.Split(" ");
                var diagram = parsed[0][1..^1];
                var buttons = parsed[1..^1];
                var joltages = parsed.Last()[1..^1];
                if (one)
                    sum += Calculate(diagram, buttons);
                else
                    sum += CalcutateJoltage(joltages, buttons);
            }

            return sum;
        }

        private int Calculate(string diagram, string[] buttons) // part one bfs
        {
            Queue<(string, int, int)> queue = new();
            for (var i = 0; i < buttons.Length; i++)
            {
                queue.Enqueue((diagram, i, 1));// initializing all button
            }

            while (queue.Count != 0)
            {
                var (indicators, btn, press) = queue.Dequeue();
                var dig = indicators.ToCharArray();
                foreach (var toggle in buttons[btn][1..^1].Split(",").Select(int.Parse))
                {
                    dig[toggle] = dig[toggle] == '#' ? '.' : '#';
                }
                if (dig.All(light => light == '.')) return press; // all off then done

                for (var i = 0; i < buttons.Length; i++)
                {
                    if (btn == i) continue; // to stop double press
                    queue.Enqueue((string.Join(string.Empty, dig), i, press + 1)); // current diagram, button index, press count
                }
            }
            return 0;
        }

        private int CalcutateJoltage(string joltages, string[] buttons) // using Z3
        {
            var goalJoltages = joltages.Split(",").Select(int.Parse).ToArray();
            var btns = buttons.Select(x => x[1..^1].Split(",").Select(int.Parse)).ToList();
            using var ctx = new Context();
            var variables = btns
                .Select(btn => ctx.MkIntConst(string.Join(",", btn)))
                .ToList(); // creating all variables

            var opt = ctx.MkOptimize(); // creating an optimizer
            for (var i = 0; i < goalJoltages.Length; i++)
            {
                List<IntExpr> vars = [];
                for (var j = 0; j < btns.Count; j++)
                {
                    if (btns[j].Contains(i)) // check if index is in button basically all buttons that have the index
                        vars.Add(variables[j]);// of the current joltage
                }
                var sum = ctx.MkAdd(vars); // sum of all variables
                var constraint = ctx.MkEq(sum, ctx.MkInt(goalJoltages[i])); // check if they equal the goal
                opt.Add(constraint);//add as a constraint
            }

            var total = ctx.MkAdd(variables);
            opt.MkMinimize(total); // what we want to minimize (sum of all variables)
            foreach (var v in variables)
                opt.Add(ctx.MkGe(v, ctx.MkInt(0))); // made sure all are >= 0

            var result = opt.Check();
            var presses = 0;
            if (result != Status.SATISFIABLE) return presses;

            var model = opt.Model;
            return variables.Sum(v => ((IntNum)model.Evaluate(v)).Int); // we sum up all the numbers
        }
        #endregion

        private void LoadData()
        {

            machines.Add("[..#.###.#.] (0,3,4,5) (1,4,6) (2,9) (0,4) (2,4,7,8) (0,2,3,4,5,6,7,8,9) (1,6) (1,2,5,6,7) (0,4,7,8) (0,1,2,3,5,8,9) (0,3,4,5,6,7,8,9) (4,6,9) {56,51,67,27,82,44,70,56,49,58}");
            machines.Add("[#####....] (1,4,5) (0,1,2,4,5,6,7) (0,4,6,7) (2,4,5,6,7,8) (2,6,8) (0,2,4,7,8) (0,3,4,8) (0,1,3,5,8) (3,7) (0,2,5,6,7,8) {105,39,68,51,68,61,61,86,84}");
            machines.Add("[.####.] (1,2,3,4) (1,4,5) (2) (0,1,4,5) {13,28,20,2,28,26}");
            machines.Add("[##..] (0,2) (0,1) (0,3) {22,14,4,4}");
            machines.Add("[.##..##] (2,5) (3,4,5) (3,5,6) (0,1,2) (0,2,3,5,6) (3,5) {18,1,38,44,3,64,36}");
            machines.Add("[#..##..] (1) (0,1,3,4,5) (0,1,3) (4,6) (0,1,3,4,5,6) (2,5,6) (2,3,4) (2,3) {37,48,14,45,43,36,26}");
            machines.Add("[.#..#...##] (2,8) (1,2,5,7,8) (0,3,4,6,8) (1,3,4,5,6,7,8,9) (0,5,6,8,9) (1,2,3,4,7,8) (2,7,9) (1,4,5,7) (2,5,6,9) (0,2,3,6) (1,3,6) (0,1,3,4,6,8) {53,39,56,61,47,41,75,47,59,45}");
            machines.Add("[....##.] (0,2,3,4,5) (0,1,5,6) (0,3,4) (2,3,6) (1,6) (5,6) {38,26,29,48,29,21,47}");
            machines.Add("[.##..] (0,1) (0,1,2,3) (4) (0,1,4) (0,1,2) (2,4) (0,3) {65,57,43,22,34}");
            machines.Add("[#...#..#] (1,2,3,5,6,7) (1,2,3,4,5,6) (0,1,3,7) (3,4,6) (0,3,5,6) (1,4,5,6,7) (1,2,3,5,7) (1,2,3,7) {16,43,37,54,2,37,22,43}");
            machines.Add("[.#.###] (0,1,2,5) (0,2) (0,1) (0,2,3,4) (3) (1,2) (0,4,5) {54,20,33,32,32,19}");
            machines.Add("[###.#] (3,4) (0,1,2,4) (0,1,2) (1,2) (1,3) {6,23,7,29,17}");
            machines.Add("[#.####..##] (2,4,6) (1,2,6,9) (0,1,2,4,5,6,7,8,9) (0,1,2,3,8) (0,1,3,5,7) (0,4,5,6,8) (1,2,3,4,6,7,8) (1,2,5,6,7) (1,3) (0,2,3,5,6,7,8) (0,1,2,3,7,8) {61,93,92,63,20,47,61,63,54,23}");
            machines.Add("[..###] (0,2,3,4) (1,2,4) (1,3) (0,1,3) {19,150,143,27,143}");
            machines.Add("[.#####.] (1,2,3,5,6) (0,1) (0,1,3,5) (2,3) (0,3,6) (0,1,2,4,5,6) (0,4,5) {154,26,19,142,16,27,114}");
            machines.Add("[####..###] (1,2,3,4,5,7) (0,1,3,5,6,7) (2,7,8) (1,2,4,6,7,8) (0,3,5,7,8) (0,1,2,3,6,7,8) (1,3,4,5,7) (7,8) (3,6,8) {209,250,56,245,50,230,226,285,70}");
            machines.Add("[#.....] (0,1) (0,3,5) (1,4) (1) (0,2) (1,2,3,4,5) (0,5) (2,3) {135,165,17,18,27,26}");
            machines.Add("[##.#..##.] (3,4,5,7,8) (6,7) (1,2,3,4,5,6) (0,1,4,5) (0,2,4,5,6,7,8) (0,1,2,3,4,5,6,7) (0,6,7,8) (2,4,7,8) (0,5,6,7,8) (4,5,8) {219,193,216,209,246,243,239,259,88}");
            machines.Add("[...#...##] (1,2,3) (0,2,3,4,6,7,8) (1,2,3,4,5,6) (4,6,7,8) (0,3,5,6) (3,4,6,7,8) (2,6,8) (3) (1,2,5) (0,1,2,3,5,6,7,8) {214,55,249,251,219,65,255,217,225}");
            machines.Add("[....###] (3,4) (2) (0,2,3,4,6) (4,5,6) (0,1,2,3,4) (1,3,4,5,6) (0,3) (1,2,4,5,6) {17,16,28,29,50,32,44}");
            machines.Add("[##.#] (0,1,3) (2,3) (0,3) (0,1,2) (0,2) {22,13,14,18}");
            machines.Add("[##..#####] (2,4,5,6,7,8) (1,2,3,5,7,8) (0,1,3,4,6,7,8) (0,1,3,4,5,6,8) (1,7,8) (1,5,6) (4) {8,42,29,28,22,37,18,43,50}");
            machines.Add("[##..] (0,3) (2) (0,2) (1,2) {20,106,123,13}");
            machines.Add("[#....#] (0,5) (3,5) (0,1,2) (0,3,4) (1,5) (3) (0,3,4,5) {61,29,19,45,22,60}");
            machines.Add("[.#...] (0) (0,1,3) (4) (1,2,3,4) (0,2) (0,1,3,4) (0,3,4) {36,12,15,28,32}");
            machines.Add("[#...#] (2,4) (2,3) (0,2) (0,3,4) (3,4) (0,1,2,3) (1,2,4) {20,6,58,27,38}");
            machines.Add("[#..#####] (2,4) (0,1,2,5,7) (2,6) (0,2,3,6,7) (0,1,3,5) (0,4,7) (0,3,4,5,6,7) (0,1,2,4) {50,26,37,31,47,34,27,27}");
            machines.Add("[#..###] (1,2,4,5) (0,3,4,5) (0,3,4) (1,4) (0,1,3) (0,1,2,4) (1,2) (3) {43,66,39,162,44,10}");
            machines.Add("[.#..#..] (2,4,5,6) (0,3) (0,3,5) (1,4) (0,1,2,5,6) (1,2,3,4,5,6) {50,43,36,41,28,54,36}");
            machines.Add("[....##.] (1,2,3,6) (0,1,4) (1,2,4,5,6) (0,4,5,6) (1,2,3,4,5,6) (1,2,3,4,5) (1,2,3) {24,53,40,20,53,40,45}");
            machines.Add("[.#.###] (0,2,3,4,5) (0,2) (0,1,5) (0,3,4) {155,9,145,139,139,147}");
            machines.Add("[.#.##.##.#] (0,1,2,3,4,5,7,9) (1,2,4,6,8) (0,2,3,4) (3,4,5,6,8,9) (1,5,9) (3,4,6,8,9) (2,3,4,7) (1,3,4,5,6,7,9) (3,8,9) (0,1,2,4,5,7,9) {52,67,58,102,106,85,50,52,52,115}");
            machines.Add("[#.#..##] (3,4) (1,3,6) (2,3,4) (1,2,3,5) (0,1,3,5) {3,15,6,38,23,4,11}");
            machines.Add("[#..#.#.##] (0,1,3,5,6,7,8) (4,5) (0,1,2,3,8) (0,3,4,5,6) (0,3,5,7,8) (2,3,5) (0,3,5,6,7) (2,3,6,7) {40,13,16,53,199,234,31,32,24}");
            machines.Add("[##.#.] (0,1,2) (1) (0,2,3,4) (1,3,4) (0,3) (2) {31,24,27,41,34}");
            machines.Add("[...##....] (3,4,6,7,8) (0,5,7,8) (0,1,3,4,5,6,8) (3,4) (0,1,2,6) (1,6) (0,1,3,4,5,6,7) (2,3,5,6) (0,2,6,8) (4,5) {71,48,35,55,65,46,73,30,50}");
            machines.Add("[###.] (1,2,3) (0,1,2) {15,145,145,130}");
            machines.Add("[..##..] (0,1,2,4) (0,1,5) (1) (0,1,3,4) (0,1,4,5) {40,49,18,4,34,18}");
            machines.Add("[...##.] (2,5) (0,2) (1,3,4) (0,1,4) (1,3) (0,1,2,4) {37,34,48,13,26,15}");
            machines.Add("[.#...##] (2,3,4) (2,3,5,6) (0,3) (1,2,3,4,5) (5,6) (2,3,4,5,6) (1,5,6) (1) (0,1,2,3,6) {16,35,71,74,38,63,67}");
            machines.Add("[#.###] (2,3,4) (0,3) (1,4) (2,4) (0,1,3) (0,2,4) (0,4) {57,17,20,43,39}");
            machines.Add("[....###.#] (1,2,3,5,6,8) (0,1,2,5,8) (0,1,2,7,8) (0,1,4,5,6,7,8) (0,1,2,3,4,6,8) (0,1,5) (0,3,6) (1,6) (0,1,7,8) {36,57,39,27,6,40,35,3,42}");
            machines.Add("[#.#.#..#..] (0,1,2,5,6,7) (0,1,2,3,5,6,9) (0,3,4,7,8,9) (1,4,5,9) (1,5,8,9) (1,3,6,7,8,9) (0,1,2,3,4,6,7) (0,1,4,5,6,7,8) (3,4,5,7,8,9) (0,5,6,7,8) (2,6,7,9) (0,2,3,4,5,7,8,9) {29,35,24,25,37,48,28,41,24,35}");
            machines.Add("[...###] (1,3,4) (1,2) (4) (1,3,4,5) (0,1,2,5) (2,3,4) (0,1,2,3) (1,2,5) {31,60,59,57,54,26}");
            machines.Add("[#..#.###..] (0,3,6,7,8) (2) (1,3,5,6,7,8,9) (0,1,2,3,4,5,6,8) (0,2,3,4,5,6) (5,8) (1,3) (0,1,3,6,7,8,9) (3,5,7,9) {41,44,30,73,14,42,52,45,52,33}");
            machines.Add("[..##.###] (0,1,3,4) (0,1,3,4,6) (0,1,2,3,5,6) (7) (0,2,3,4,5,7) (2,3,5,6,7) (0,2,5,6) (2,5) (1,3,5,7) (0,2,3,5,6) {53,25,73,63,25,80,42,37}");
            machines.Add("[..#.#..#] (0,3) (2,6) (2,3,6) (0,4,7) (1,2,3) (5) (1,2,7) (4,5) (0,2,4,7) (2,5) {19,20,48,22,29,29,13,25}");
            machines.Add("[..###.] (4) (0,3,4) (0,1,2,3) (0,2,5) (1,3,4) (2,4,5) {16,17,146,20,161,134}");
            machines.Add("[#..##.#..] (0,1,2,3,4,5,7) (0,5,8) (0,5,6,7,8) (2,5,6) (0,1,2,4,6,7,8) (2,4,5,8) (0,1,2,4,7,8) (3,7) (1,2,3,5,6) (1,2,3) (2,4,6,7,8) {212,208,239,25,211,60,222,213,223}");
            machines.Add("[.#.##..#] (2,4) (0,1,3,4) (2,6) (4) (1,2,3,5) (1,2,7) (3,5) (0,1,2,3,4,7) (1,2,4) (0,1,6) {36,60,54,31,47,13,31,11}");
            machines.Add("[##.....] (0,3) (2,5) (0,2,3,5,6) (0,1,2,4,5,6) (0,3,4,5,6) (1,2,3,5,6) {29,12,44,37,8,50,32}");
            machines.Add("[#.#..#] (2,3,5) (1,4) (1,2,3,4) (3,5) (0,2,3,5) (0,2) {26,9,52,56,9,50}");
            machines.Add("[#.#.] (1,2) (2) (2,3) (0,1,2) (0,2) (1,2,3) {26,170,214,156}");
            machines.Add("[#.#..##...] (1,2,4,6,7) (1,3,4) (1,2,5,6,7,8,9) (2,3,8,9) (0,1,3,7,8,9) (0,2,4,6,7,8,9) (0,1,9) (0,1,2,3,4,5,6,7,9) (2,4,5,7,8) (0,7) (5,7) (3,7,9) {48,64,66,40,47,47,51,92,42,82}");
            machines.Add("[.....#...] (0,1,2,4,5,6,7) (1,4,5,7) (0,1,2,4) (0,2,3,4,5,6,7,8) (1,2,3,7,8) (0,1,2,4,5,6,8) (5) (3,6) {35,50,38,9,53,62,34,43,21}");
            machines.Add("[###..#..] (1,2,6) (0,5) (0,4,5) (1,2,4,5,6,7) (5,6,7) (0,1) (0,4) (1,2,3,4,6,7) (2,6) (0,2,3,4,5,6) {62,48,62,22,56,42,67,21}");
            machines.Add("[...###] (3,4) (3,4,5) (2,3) (0,5) (1,3,5) (1,3,4) {16,9,5,185,171,182}");
            machines.Add("[.##..####] (0,1,2,3,4,5,8) (3,5) (1,2,5,6,7,8) (0,2,3,6,8) (4,8) (0,1,2,3,4,5,6,7) (4,5,6,7) (3,7) (1,3,5,6) {55,63,63,87,57,94,82,49,45}");
            machines.Add("[..###] (0,2,3) (0,1,2,3) (0,1,4) {29,22,11,11,18}");
            machines.Add("[####] (0,1,2,3) (0,2,3) {13,0,13,13}");
            machines.Add("[##...#.#] (3,4) (0,3,4,5,6,7) (0,1,5,7) (1,3,4,5,6) (1,2,3,5,6) (0,1,3,7) {48,36,0,44,29,36,18,48}");
            machines.Add("[.#.###....] (1,2,3,4,6,7,8,9) (4) (1,4,6) (0,1,4,5,9) (2,8,9) (0,1,3,4,6,7,8) (0,1,2,3,4,5,7,8) (1,3,4,5,9) (0,1,3,4,6,7,8,9) (1,2,4,5,6,7,9) (0,1,6,7,9) (0,1,2,3,4,5,6,7) {54,105,40,49,96,57,71,64,33,68}");
            machines.Add("[###.#.] (0,1,2,3,5) (0,2,3,4) (2,3,4) (0,1,3) {39,19,28,40,21,7}");
            machines.Add("[.####.#..] (6,7) (1,2,3,4,6) (0,2,7) (1,5,7,8) (0,8) (0,1,2,4,5,7,8) (2,4,6) (0,4,5,6,7) (1,3,8) {46,51,49,28,49,35,33,51,39}");
            machines.Add("[#......#.] (0,1,3,4,5,7,8) (4,5,6,7) (0,2,3,5,7,8) (1,2,3,4,5,6,7,8) (3,7) (4,8) (1,6,8) {16,19,15,23,28,34,30,38,37}");
            machines.Add("[.#..##] (1,4,5) (0,1,2,5) (0,3,5) (0,1,2,3,4) (0,2) {39,27,23,21,21,38}");
            machines.Add("[..###..] (0,3,4,5,6) (0,5) (2,4,5,6) (1,5) (0,1,2,4,6) (2,3,4) {38,29,23,32,41,49,27}");
            machines.Add("[#..#.#.#.#] (2,3,4,5,6,7,8) (2,4,5,6,8) (0,3,5,6,7,8) (0,1,2,7,8,9) (2,5) (0,2,4,6,8,9) (1,2,4,6,7,8) (0,2,3,9) {22,16,78,34,52,68,66,44,66,8}");
            machines.Add("[..#.#] (2,3) (0) (1,2,4) (0,2,3) (1) (0,2) (2,4) {17,15,46,19,25}");
            machines.Add("[#..#.#.] (0,5) (4) (0,2,4,5,6) (0,1) (0,2) (1,3,4) (0,2,3) {30,11,19,8,21,5,3}");
            machines.Add("[.####....#] (0,1,2,4,6,7,9) (0,1,3,4,5,7,8,9) (3,4,6,8) (2,5,6,8) (0,2,3,5,7,8,9) (0,1,5,7,9) (1,2,6) (1,2,3,4,5,9) (0,1,2,4,5,6,8,9) (1,2,4,5,6,9) (1,3) (0,1,2,6,7,8,9) (0,1,2,3,4) {82,113,122,47,76,67,90,53,59,91}");
            machines.Add("[.#.#..] (1,2,3,4) (1,4,5) (1,3) (0,1,4,5) {19,58,11,26,43,32}");
            machines.Add("[##.##...] (0,2,4,6,7) (0,1,6,7) (0,1,4,5,7) (2,3,4,5,6,7) (1,3,4,7) (0,1,3,5,6) {33,25,23,20,33,24,38,43}");
            machines.Add("[##.##.#...] (0,1,2,3,6,7,8,9) (0,1,5,6) (1,5) (0,1,2,3,4,7,8,9) (0,1,2) (6,7) (3) (2,3,4,5,6,7,8,9) (0,1,2,4,5,6,8,9) (2,3,6,7,8,9) {50,61,47,48,18,36,41,33,33,33}");
            machines.Add("[..#.###..] (0,2,3,6) (1,2,3) (0,1,2,3,5,6,7) (1,2,3,4,6,7,8) (1,3,5,7,8) (0,1,4,5,6,7) (0,1,5,6,7,8) (0,2,3,5,6,8) (1,2,3,5,7,8) (0,1,6,8) {54,197,59,197,17,186,66,186,188}");
            machines.Add("[..#######.] (1,2,5,6,7,9) (2,3,4,6,7,8) (4,5,7,9) (3,4,5,8,9) (1,2,5,7,8) (0,1,8) (3,4,5,6,7,8,9) (0,1,2,3,5,6,7,8) (0,1,6) (3,4,9) (0,1,2,3,4,6,7,8,9) {43,237,239,76,77,236,227,253,94,241}");
            machines.Add("[.#..#.###.] (0,1,2,3,4,5,7,8) (0,4) (0,1,4,5,7,8) (1,6,8) (4,7) (0,2,3,6,8) (0,1,3,4,6,8,9) (1,3,4,6,7,8,9) (2,8) (0,2,3,6) {71,42,36,37,60,23,38,31,58,14}");
            machines.Add("[#..##.#..] (2,3,5,8) (0,5,6) (0,3,4,6,7,8) (2,4) (0,1,3,4,5,6,7,8) (7,8) (0,1,2,4,5,6,7,8) (0,1,3,5,6,8) (1,3) {191,71,29,194,173,64,191,175,201}");
            machines.Add("[...###] (2,5) (0,1) (1,2,4) (0,3) (0,1,2,3,4) (0,1,2,4) {33,47,53,19,45,8}");
            machines.Add("[#..##.] (0,2,4,5) (0,1,3,4,5) (2,3,5) (1,2,3) (1,2,3,4) {17,35,53,42,33,24}");
            machines.Add("[...##] (0,2) (0,1,2,3) (0,1,2,4) {29,22,29,17,5}");
            machines.Add("[..###] (1,4) (0,1,2,4) (0,2,3,4) (0,4) (1,3,4) {9,15,6,13,23}");
            machines.Add("[#.#...] (1,2,3,4) (1,5) (0,1,3,4) (1,2) (0,1,4) (2,3,5) {1,34,30,15,13,9}");
            machines.Add("[.##.#.] (2,5) (0,4,5) (1,3) (0,1,4,5) (0,1,2,5) {32,33,28,14,18,46}");
            machines.Add("[.###..##] (0,1,2,5) (1,2,5,7) (0,1,4,5,6) (0,1,3,6) (0,1,2,3,4,5) (1,3,5) (1,2,4,5) (0,2,6) {41,77,77,19,35,77,13,19}");
            machines.Add("[.##...#.] (3,5,7) (0,1,3,4,6) (0,7) (1,2,3,5,6,7) (0,1,3,4,6,7) (0,2) (1,5) (0,2,3,5,6) (4,6) {61,49,44,72,45,59,75,41}");
            machines.Add("[#...] (0) (0,2,3) (1,3) (0,1) (0,1,2) (3) {52,45,17,29}");
            machines.Add("[.##.#] (1,2,3) (0,4) (3,4) (2,3) {1,0,7,18,12}");
            machines.Add("[.#...##.#] (3,5,7) (2,5,6) (0,7) (0,1,5,6,7,8) (3,5,6) (4,5,7) (2,3,4,6,7) {30,17,25,35,19,54,50,62,17}");
            machines.Add("[#...#....] (0,4) (1,3,5,6,7) (1,4,7,8) (1,3,4,5,6,8) (0,1,3,7,8) (0,3,7) (0,2,3,5,6,8) {33,22,12,36,10,25,25,24,21}");
            machines.Add("[#.#.##.] (1,3,5,6) (0,1,2,3,4) (0,1,3,4) (0,4,5) (0,2,3,4,5,6) {63,45,37,62,63,52,34}");
            machines.Add("[.#.....#..] (0,1,3,4,7,8,9) (0,1,3,5,7,8) (6,7,8) (0,1,2,3,4,6,7,8) (0,1,2,4,5,6,9) (0,1,2,3,5,6,7,8,9) (0,4,5,7) (0,1,2,4,5,7,8,9) (0,1,4) {75,59,34,37,49,52,40,63,47,35}");
            machines.Add("[###.#] (0,2) (1,4) (0,3,4) {10,2,1,9,11}");
            machines.Add("[...##] (0,1,2) (0,2,4) (1,2,4) (1,3,4) (0,1,4) (0,3,4) {33,40,22,26,44}");
            machines.Add("[..##] (2) (0,1,3) (0,2) (1,3) (0,2,3) {40,30,148,46}");
            machines.Add("[#.#.] (0,2,3) (0,2) (0,1,3) {30,12,18,21}");
            machines.Add("[..#...] (1,2,4,5) (0,2) (0,3,4) (0,1,2,3,5) (2,4,5) (1,3) (0,1) {57,55,62,49,48,49}");
            machines.Add("[##...##..] (0,1,6,8) (1,2,3,4,7,8) (2,4,6) (2,3,5) (1,2,3,4,6,8) (0,1,5,7) (0,1,3,4,5,6,8) (0,2,3,5,8) (0,2,3,4,6,7) {34,138,180,162,148,44,148,12,150}");
            machines.Add("[##..] (0,1) (1) (0,2,3) (1,2) (0,1,3) (1,2,3) {24,45,30,38}");
            machines.Add("[##..] (2,3) (1,2) (1,2,3) (0) {7,147,167,27}");
            machines.Add("[.#.###..##] (1,3,9) (0,6,7,9) (1,2,3,5,8,9) (1,2,3,4,6,7,8,9) (1,2,4,7) (0,1,2,3,4,9) (0,3,6,8,9) (4,5,7,9) {30,76,58,56,55,11,27,51,21,73}");
            machines.Add("[....#.##.] (0,1,5,7,8) (0,1,4,6) (0,1,3,4,7) (0,1,2) (1,3,8) (0,5) (0,1,2,4,5,7) (2,3,4,5) (4,5) (0,2,3,5,6,7,8) (0,1,2,3,4,5,6) {79,83,40,53,60,67,22,60,38}");
            machines.Add("[......#] (0,1,3,4,6) (2,6) (6) (2) (1,2,4,5,6) (0,2,3,4,6) (1,2,3,6) (2,4,5) (0,1,2,3,5,6) {39,36,81,39,43,36,66}");
            machines.Add("[##.##..] (6) (2,3,6) (1,3,4,5) (3,4,6) (2,4,5) (0,3,4,5,6) (0,1,2) {10,12,22,43,30,24,45}");
            machines.Add("[.#.#..##] (1,3,4,5,6) (1,2,3,5,6,7) (0,4,6,7) (0,2,3,4,7) (1,4,6) (0,1,3,6,7) (2,3,5,6,7) (1,3,4,5) (0,3,4,5,6,7) (0,1,2,3,5,6) {53,204,179,230,70,214,230,217}");
            machines.Add("[.#.#.#] (1,4,5) (1,2,3,4,5) (0,1,3,4) (0,2,3,4,5) (0,3,5) {44,30,33,59,48,44}");
            machines.Add("[#####.] (3,5) (0,1,2,5) (0,5) (2,4) (2,3,5) {22,8,22,7,14,29}");
            machines.Add("[..#.....##] (0,1,3,4,5,8) (0,1,3,4,6,8) (0,3,6,9) (0,1,2,3,4,6,9) (0,2,3,7,8) (1,2,3,4,6,7) (2,9) (0,5,8,9) (0,2,3,7,9) (0,5) {63,30,40,43,30,34,24,7,29,59}");
            machines.Add("[##..] (1,2) (0,2,3) (0) (1,3) (2,3) (0,1) {34,36,54,40}");
            machines.Add("[.#.#.] (1,2) (0,1,2,4) (1,2,4) (1,3) {6,201,200,1,9}");
            machines.Add("[.##.#..] (0,1,5) (0,2,4,5) (1,2,4) (0,2,3,4,5) (0,3,4,6) (1,5) (1,2,3,6) (2,3,4,5) (0,1,2,4,6) {49,61,71,23,72,54,27}");
            machines.Add("[#..#.#..##] (2,4) (5,6) (0,1,3,6,7,8) (0,2,4,5,8,9) (1,2,3,7) (0,1,5,6,7,8,9) (1,2,3) (0,3) (3,4,5,8,9) (0,1,4,6,7,8) {58,50,31,31,44,30,59,46,53,14}");
            machines.Add("[....#.#] (1,5,6) (0,2,3,6) (5,6) (1,3,4,5,6) (0,1,2) (4,6) {24,34,24,28,18,39,49}");
            machines.Add("[....##] (4,5) (0,1,3,4) (0,1,2) (1,4) (0,2,5) (2,4) (2,3,4) (1,2,4) {38,50,65,30,73,16}");
            machines.Add("[.#.#..#.] (0,3,6,7) (3,5,6) (4,5) (0,2,3,6) (0,1,4,5,6) (1,5) (0,1,2,5,6,7) {32,29,17,33,4,46,46,26}");
            machines.Add("[...#..###.] (0,3,7,8,9) (3,5,6,7,8) (0,1,6,7,8,9) (2,5,9) (0,1,2,3,5,6,7,9) (1,4,6,8) (0,1,2,7,8,9) (1,4,8,9) (3,4,9) (0,2,3,4,5,7) (0,1,2,3,4,7,8,9) {38,46,50,52,42,42,20,57,72,79}");
            machines.Add("[###...##..] (0,3,4,6,7,8,9) (3,4,5) (0,1,2,3,5,6,7) (5,7,8) (0,2,3,6,9) (0,1,2,3,5,6,7,8,9) (1,3,4,5,6,7,8,9) (0,1,3,4,5,6,7,8,9) (4) {141,125,111,164,70,158,149,162,56,43}");
            machines.Add("[#...#.#.] (0,1,6) (0,1,2,3,5,7) (0,1,4,7) (1,2,3,4,5) (2,3,4,5,6,7) (1,2,3,4,5,6) {32,57,45,45,46,45,29,30}");
            machines.Add("[#..##.##] (0,1,3,6,7) (0,2,4,7) (1,2,3,4,5,7) (0,3,5,6,7) (0,2,3,4,7) (0,1,2,4,5,6) (2,5,6,7) (0,1,6) {82,67,61,67,61,46,57,73}");
            machines.Add("[.##.#.##.#] (1,2,4,6,7) (1,8) (0,1,2,7) (0,1,2,3,4,7,8) (0,1,3,4,6,9) (1,2,3) (0,5) (0,3,4,7) (1,2,4,6,7,9) {33,69,55,25,36,1,27,49,13,24}");
            machines.Add("[##..#.#] (0,1,3,4,6) (0,1,3,4) (1,2,5,6) (0,2,4,5) (0,1,2) {53,56,36,30,40,23,27}");
            machines.Add("[###.....] (0,2,3,4,6) (0,2,3,4,5,6) (0,1,5,7) (1,2,3,4,7) (2,3,4,5) (0,2,3) (0,1,2,4) {75,176,223,205,212,44,34,158}");
            machines.Add("[..##.#####] (0,6,8) (2,4,6) (0,1,2,3,6,7,8) (1,4,7,8) (1,2,4,6) (3,5) (6,7) (3,5,9) (0,2,4,7,9) {40,38,40,20,43,7,60,43,49,7}");
            machines.Add("[###..] (0,2,3) (2,3,4) (0,3,4) (0,1,2,4) (0,1,4) {141,107,124,36,123}");
            machines.Add("[.#.##] (2,3,4) (0,3,4) (0,1) (0,2) {216,186,30,28,28}");
            machines.Add("[.###..#] (0,2,5) (0,1,5) (2,3,5,6) (0,2,4) (1,3) (1,2,5,6) (3,4,5,6) (1,2,3,6) {41,39,48,32,13,50,30}");
            machines.Add("[##..] (3) (0,3) (0) (0,1) (1,2) (2) {32,26,19,29}");
            machines.Add("[###.#.###] (0,4,5,6,7,8) (0,1,2,3,4,6,7) (1,2,5,8) (1,2,6) (0,1,2) (0,4,6,8) (1,2,4,5,7,8) (1,3) (7,8) (1,3,4,5,6,7) (2,5,6,7,8) {169,73,55,44,177,172,210,198,184}");
            machines.Add("[#..####.] (0,1,2,6,7) (0,1,2,3,4,7) (1,2,5,6,7) (0,1,2,5,6,7) (0,1,4,6,7) (0,1,2,3,5) (3,4,6) (0,2,4) (2,3,4,6) {54,44,62,46,58,17,36,37}");
            machines.Add("[#.....###] (0,2,3,5,6,7,8) (0,3,4,5,7,8) (1,4) (0,1,2,5) (0,1,3) (4,7) (0,2,3,5,7,8) (0,1,3,6,8) {69,38,49,49,23,52,18,51,40}");
            machines.Add("[###.] (0,3) (0,1,3) (1,2) (0,1,2) {37,26,10,27}");
            machines.Add("[.##.#..] (0,1,3,4,5) (1,2,3,4,5,6) (2,3,4) (4,5) (0,1,3,5) (0,1,2,3,4,5) (0,2,3) (0,1,2,3,6) {180,189,204,213,40,30,175}");
            machines.Add("[..##] (1,3) (2,3) (0,2,3) {0,12,10,22}");
            machines.Add("[##..] (3) (1,3) (2) (2,3) (0,1) (0,1,2) {19,22,145,28}");
            machines.Add("[.#.#..##..] (0,1,2,3,4,5,6,9) (0,2,6,8) (1,2,3,5,8,9) (0,1,3,4,5,6,8,9) (0,3,4,5,6,8) (2,4,6,8) (2,5,7) (0,2,3,4,5,6,9) {51,37,38,47,45,50,56,3,51,39}");
            machines.Add("[.....#] (0,1,2,3) (0,2,4,5) (1,2,3,4,5) (0,1,3,5) (0,2,4) (1,4,5) (0,1,2,4,5) {230,43,244,34,235,217}");
            machines.Add("[#.#.#.#.] (0,1,2,4,5,6) (0,1,2,3,5,7) (1,2,3,7) (0,1,2,3,4,5,7) (0,2,3,5,7) (2,7) (0,1,3,4,6,7) {45,57,77,52,32,38,20,71}");
            machines.Add("[##.#.##.] (0,1,4,6) (0,1,3,4,5,6) (1,2,4,5) (1,3,5) (0,1,3,4,5) (0,1,2,3) (1,2,3,7) (1,3,4,6,7) (2,6) {53,80,48,52,52,46,55,3}");
            machines.Add("[##...] (0) (1,2,3) (1,4) (3) (1,2) (1,2,4) {3,128,120,108,10}");
            machines.Add("[...#....] (0,1,2,3,4,5,7) (2,4,6) (0,2,4,6,7) (0,1,3,4,7) (0,1,3) (3) (0,2,4,5,7) (1,3,4,5,6,7) {36,19,18,26,31,18,0,31}");
            machines.Add("[###.] (1,2,3) (0,1,2) {100,109,109,9}");
            machines.Add("[####..] (0,1) (0,3,4,5) (0,2,4,5) (0,2,3,5) (3,4) {54,14,31,24,29,40}");
            machines.Add("[.#....#..#] (0,4,5,7,8,9) (2,4) (1,2,3,6,9) (0,2,3,5,6,7,8,9) (0,4,5,6,9) (1,2,3,4,5,6,7,8) (1,3,4,8) (2,5,6,7) (2,4,8) (5,7) (1,3,6,7) {26,49,83,58,82,60,71,45,63,39}");
            machines.Add("[..#....###] (1,4,5,7,8,9) (2,3,4,5,7) (0,4) (0,1,6,8) (3,5) (0,2,3,4,5,6,7,8) (0,3,5,6,7,9) (0,1,2,3,5,6,7,8) (1,4,5,6) (0,1,2,3,5,6,8,9) (0,3,5,9) (0,2,3,4,5,7,9) (1,8,9) {78,30,51,90,71,104,54,67,29,51}");
            machines.Add("[.#...] (1,4) (1,2,3) (0,3,4) (1) (2) {1,14,15,1,1}");
            machines.Add("[.#.######] (0,1,3,8) (0,1,4,5,6) (2,3,5) (1,2,4,5,6,7) (0,1,2,3,5,8) (0,1,2,3,6,8) (0,6,8) (3,6) (1,2,3,4,5,8) (1,7) {83,100,57,64,41,62,61,20,70}");
            machines.Add("[####.] (0,1,2,3) (0,1,2,4) (1,4) {13,29,13,7,22}");
            machines.Add("[#.##.] (2,3,4) (0,1) (3,4) (0,2) (0,3) (4) {28,14,15,29,25}");
            machines.Add("[.#######] (2,4,5,6,7) (0,1,2,4,7) (0,1,4,5,7) (0,1,2,3,5,6) (2,5,6) (1,3,4,7) (0,1,5,6,7) {32,49,42,28,51,55,40,53}");
            machines.Add("[#.###..##.] (2,4) (1,3,7) (0,2,3,4,5,6,7,8) (9) (1,2,5,7,9) (7,8) (2,3,9) (0,6,7) (0,2,4,8) (0,4,5) (0,1,3,4,5,6,8) (5,9) (1,9) {36,31,187,184,41,49,20,54,24,199}");
            machines.Add("[###.] (2,3) (0,2) (1,2) (1,2,3) {5,174,191,179}");
            machines.Add("[.#..] (1,2) (0) (1,2,3) (0,2) (0,2,3) {34,22,54,15}");
            machines.Add("[.......##.] (0,3,5,6,7) (1,2,3,4,6,7,8) (0,6,8) (4,6) (1,2,3,4,6,7,9) (4,6,7) (1,3,4,5,7,8,9) (2,3,4,8) {17,45,34,60,64,26,64,69,34,33}");
            machines.Add("[#..###] (0,1,2) (0,3) (3,4) (0,2,3,4) (0,1,2,4,5) (0,2,3) (1,3,4,5) {49,23,36,79,48,17}");
            machines.Add("[.#...#.] (0,1,2) (1,2,3,4,6) (0,2,3,4,5) (1,6) (3,4) {205,33,211,222,222,197,25}");
            machines.Add("[##..] (0,2,3) (1,2,3) (0,1) {6,11,17,17}");
            machines.Add("[...##.....] (1,2,3,4,5,7,9) (1,3,4,5,7,9) (0,4) (3,4,5) (0,2,3,8,9) (1,3,6,8) (0,1,2,3,4,6,9) (0,2,8,9) {50,162,39,188,186,160,15,147,26,184}");
            machines.Add("[....#.#..] (0,1,6) (0,2,7) (2,3,8) (0,1,3,4,5,6,8) (0,1,2,3,5,6) (1,2,3,4,5,8) (0,1,2,3,4,6,7,8) (0,8) (2,6) (0,1,4,5,6,8) (0,6,8) {78,62,55,49,36,30,71,26,52}");
            machines.Add("[..#.#.##] (2,3,4,5,6) (4,5,7) (0,1,3,4,5,7) (0,1,2,5,6) (3,4,5,7) (0,2,3,5,6,7) (1,4,7) (0,1,2,3,4,5,6) {38,53,30,50,66,67,30,56}");
            machines.Add("[##..##..#.] (5) (1,7) (0,3) (0,1,2,6) (2,3,8,9) (0,1,2,3,8,9) (0,4,6,7,9) (2,9) (0,2,9) {72,24,51,22,19,4,30,19,13,59}");
            machines.Add("[##..##.#] (0,3,7) (1,2,4,5) (0,1,4,6) (1,3,4,5,6) (1,2,4) (2,6,7) (0,1,3,4,7) (5) (0,1,2,5,6,7) {39,54,34,20,44,35,48,32}");
            machines.Add("[.##.] (0,1) (0,2) (1,2,3) (1) (0,3) {45,42,28,29}");
            machines.Add("[..##.##] (1) (1,2,3,4,5) (2,6) (0,1,2,5,6) (1,2,3,4,5,6) (2,3,5,6) (0,1,2,6) {30,60,66,36,19,52,66}");
            machines.Add("[#..####] (1,3,4,6) (0,1,2,4,5) (0,2,3,4,5) (1,2) (1,2,4,6) (0,2,4,5,6) (0,1,2,3,4,5) (0,1,2,3,4) (0,1,3,4,5,6) {212,236,221,44,222,200,34}");
            machines.Add("[.#.#.#.##] (0,1,3,4,5,6,7) (0,2,4,5,6,7,8) (0,4,6) (2,4,5,8) (3) (0,1,2,7) (0,1,2,3,6,7) (0,1,4,5,6) (4,7,8) (2,4) (7,8) {97,65,63,37,97,61,79,89,49}");
            machines.Add("[..#.#.#..#] (1,3,4,5,6,7,8,9) (0,2,3,4,7) (0,1,2,3,7,8,9) (0,1,2,3,4,9) (1,2,3,4,6,7,8) (0,1,2,3,5,6,7,8,9) (2,3,7) (1,2,5) (0,1,2,3,4,5,6,7,8) (1,4,5,8,9) (0,1,2,3,5,6,8,9) (0,1,3,7,8) (0,2,4,6,8,9) {87,134,107,105,80,83,69,86,116,84}");
            machines.Add("[..#.#..##] (1,7) (1,2,6,7,8) (0,2,4,5,7,8) (5,8) (0,1,2,3,5,6,7,8) (6,7,8) (0,1,2,4,6,7,8) (3) {43,42,52,19,29,45,44,62,75}");
            machines.Add("[#.##.###] (2,6,7) (2,4) (0,2,3,5,6,7) (1,3,4,5) (1,2,3,4,6,7) (2,3,4,5) {11,18,166,163,170,162,14,14}");
            machines.Add("[.#####] (0,1,4,5) (4,5) (2) (0,1,3) (0) (0,1,2,4,5) (0,1,4) (1,2,4) {150,137,18,12,128,23}");
            machines.Add("[#.#.##.##] (0,7,8) (0,1,2,3,4,5,6,8) (6,7) (0,2,4,5,7,8) (1,4,8) (0,1,4,5,6,7) (0,3) {67,36,26,40,42,29,34,38,57}");
            machines.Add("[.#.##..#..] (1,2,4,5,6,7,9) (3,7) (1,3) (0,1,4,5,6,7) (0,2,4,8,9) (1,2,5,7,9) (2,5,6,9) (0,1,2,3,4,7,8,9) {29,27,50,15,30,33,26,22,23,50}");
            machines.Add("[..#.#..] (0,5) (2,3) (1,3,5,6) (0,2,3) (3,4,5) {8,12,13,37,12,31,12}");
            machines.Add("[....#] (0,1,3) (0,2,3,4) (0,2,4) (3,4) {46,13,33,39,46}");
            machines.Add("[.#.#.###.#] (0,5) (0,1,3,4,6,7,8) (0,1,2,5,6,7,8) (0,1,2,6,7,9) (3,4,6,8) (2,3,4,5,6) (0,1,2,3,4,6,8,9) (3,5,7) (1,3,6) (0,1,5,7,8,9) (2,3,5,6,7,8,9) (1,4) (4,8,9) {61,79,46,93,91,61,86,56,71,37}");
            machines.Add("[#.##] (1,3) (0,2,3) {0,13,0,13}");
            machines.Add("[#..###.#] (4,5,6) (0,2,4,5,6,7) (0,2,4,6,7) (3,5) (2,5,6) (1,3,5,6,7) {101,15,102,26,110,36,126,116}");
            machines.Add("[###.#####] (0,1,2,3,4,5) (1,3,5,6,7) (1,2,4) (1,2,3,4,5,7,8) (2,3,4,6,7) (2,5,6,7,8) (0,2,3,4,5,7,8) (0,1,2,3,4,5,6) (3,5,8) (0,4) {23,45,48,169,58,171,33,43,154}");
            machines.Add("[.######] (1,5,6) (0,1,2,4,5) (1,2,3,6) (0,2,4,5,6) (2,3) (0,2,5,6) (1,2,3,4,5,6) (0,1,3) (1,5) {49,65,58,49,40,65,49}");
        }
    }
}
