//https://adventofcode.com/2024/day/16
namespace AdventOfCode
{
    using System.ComponentModel;
    using Coordinate = (int x, int y);

    class Day16
    {
        int mapSizeY = 141;
        int mapSizeX = 141;

        char[,] map;

        public Day16()
        {
            map = new char[mapSizeX, mapSizeY];
        }

        public void Run()
        {
            (Coordinate coordinate, char direction) start = ((-1, -1), 'R');
            Coordinate end = (-1, -1);

            SetupMap();

            for (var x = 0; x < mapSizeX; x++)
            {
                for (var y = 0; y < mapSizeY; y++)
                {
                    if (map[x, y] == 'S')
                    {
                        start.coordinate.x = x;
                        start.coordinate.y = y;
                        continue;
                    }
                    if (map[x, y] == 'E')
                    {
                        end.x = x;
                        end.y = y;
                        continue;
                    }
                }
            }
            var startTime = DateTime.Now;

            Console.WriteLine(FindBestScorePath(start, end));
            //133584
            Console.WriteLine($"{(DateTime.Now - startTime).TotalMilliseconds}ms");

            Console.WriteLine(FindBestSeats(start, end));
            //622
            Console.WriteLine($"{(DateTime.Now - startTime).TotalMilliseconds}ms");
        }

        int FindBestScorePath((Coordinate coordinate, char direction) start, Coordinate end)
        {
            Dictionary<Coordinate, Coordinate> parents = new Dictionary<Coordinate, Coordinate>();
            Dictionary<(Coordinate coordinate, char direction), int> costs = new Dictionary<(Coordinate coordinate, char direction), int>();

            // Queue to store the nodes in the order they are visited
            PriorityQueue<(int cost, Coordinate coordinate, char direction), int> queue = new();

            // Mark the distance of the source node as 0
            costs[start] = 0;

            // Push the source node to the queue
            queue.Enqueue((0, start.coordinate, start.direction), 0);

            int currentCost = -1;

            // Iterate until the queue is not empty
            while (queue.TryDequeue(out var node, out _))
            {
                (currentCost, Coordinate currentLocation, char currentDirection) = node;

                if (currentLocation == end)
                {
                    return currentCost;
                }

                if (costs.ContainsKey((currentLocation, currentDirection)) && costs[(currentLocation, currentDirection)] < currentCost)
                    continue;

                costs[(currentLocation, currentDirection)] = currentCost;

                List<(Coordinate coordinate, char direction)> moves = new();

                moves.Add((Move(currentLocation, currentDirection), currentDirection));
                moves.Add((Move(currentLocation, Turn(currentDirection, 'R')), Turn(currentDirection, 'R')));
                moves.Add((Move(currentLocation, Turn(currentDirection, 'L')), Turn(currentDirection, 'L')));

                // Explore all the neighbors of the current node
                foreach ((Coordinate coordinate, char direction) neighbor in moves)
                {
                    if (map[neighbor.coordinate.x, neighbor.coordinate.y] == '#')
                        continue;

                    if (neighbor.direction == currentDirection)
                    {
                        queue.Enqueue((currentCost + 1, neighbor.coordinate, neighbor.direction), currentCost + 1);
                    }
                    else
                    {
                        queue.Enqueue((currentCost + 1001, neighbor.coordinate, neighbor.direction), currentCost + 1001);
                    }
                }
            }

            return -1;
        }

        int FindBestSeats((Coordinate coordinate, char direction) start, Coordinate end)
        {
            Dictionary<Coordinate, Coordinate> parents = new Dictionary<Coordinate, Coordinate>();
            Dictionary<(Coordinate coordinate, char direction), int> costs = new Dictionary<(Coordinate coordinate, char direction), int>();
            // Add start as a seat
            HashSet<Coordinate> bestSeats = [start.coordinate];
            int bestScore = int.MaxValue;

            // Queue to store the nodes in the order they are visited
            PriorityQueue<(int cost, Coordinate coordinate, char direction, HashSet<Coordinate> visited), int> queue = new();

            // Mark the distance of the source node as 0
            costs[start] = 0;

            // Push the source node to the queue
            queue.Enqueue((0, start.coordinate, start.direction, new()), 0);

            int currentCost = -1;

            // Iterate until the queue is not empty
            while (queue.TryDequeue(out var node, out _))
            {
                (currentCost, Coordinate currentLocation, char currentDirection, var visited) = node;
                if (currentCost > bestScore)
                    break;

                if (currentLocation == end)
                {
                    bestScore = currentCost;
                    bestSeats.UnionWith(visited);
                }

                if (costs.ContainsKey((currentLocation, currentDirection)) && costs[(currentLocation, currentDirection)] < currentCost)
                    continue;

                costs[(currentLocation, currentDirection)] = currentCost;

                List<(Coordinate coordinate, char direction)> moves = new();

                moves.Add((Move(currentLocation, currentDirection), currentDirection));
                moves.Add((Move(currentLocation, Turn(currentDirection, 'R')), Turn(currentDirection, 'R')));
                moves.Add((Move(currentLocation, Turn(currentDirection, 'L')), Turn(currentDirection, 'L')));

                // Explore all the neighbors of the current node
                foreach ((Coordinate coordinate, char direction) neighbor in moves)
                {
                    HashSet<Coordinate> seenLocs = new(visited);
                    seenLocs.Add(node.coordinate);

                    if (map[neighbor.coordinate.x, neighbor.coordinate.y] == '#')
                        continue;

                    if (neighbor.direction == currentDirection)
                    {
                        queue.Enqueue((currentCost + 1, neighbor.coordinate, neighbor.direction, seenLocs), currentCost + 1);
                    }
                    else
                    {
                        queue.Enqueue((currentCost + 1001, neighbor.coordinate, neighbor.direction, seenLocs), currentCost + 1001);
                    }
                }
            }
            
            // Add end as a seat
            bestSeats.Add(end);

            return bestSeats.Count;
        }

        char Turn(char direction, char turnDirection)
        {
            switch (direction)
            {
                case 'L':
                    return turnDirection == 'R' ? 'U' : 'D';
                case 'R':
                    return turnDirection == 'R' ? 'D' : 'U';
                case 'U':
                    return turnDirection == 'R' ? 'R' : 'L';
                case 'D':
                    return turnDirection == 'R' ? 'L' : 'R';
            }
            return 'X';
        }

        Coordinate Move(Coordinate start, char direction)
        {
            switch (direction)
            {
                case 'L':
                    return (start.x - 1, start.y);
                case 'R':
                    return (start.x + 1, start.y);
                case 'U':
                    return (start.x, start.y - 1);
                case 'D':
                    return (start.x, start.y + 1);
            }
            return (-1, -1);
        }
        void AddMapRow(int row, string data)
        {
            for (var x = 0; x < data.Length; x++)
            {
                var space = data[x];
                map[x, row] = space;
            }
        }

        void SetupMap()
        {
            //AddMapRow(00, "#################");
            //AddMapRow(01, "#...#...#...#..E#");
            //AddMapRow(02, "#.#.#.#.#.#.#.#.#");
            //AddMapRow(03, "#.#.#.#...#...#.#");
            //AddMapRow(04, "#.#.#.#.###.#.#.#");
            //AddMapRow(05, "#...#.#.#.....#.#");
            //AddMapRow(06, "#.#.#.#.#.#####.#");
            //AddMapRow(07, "#.#...#.#.#.....#");
            //AddMapRow(08, "#.#.#####.#.###.#");
            //AddMapRow(09, "#.#.#.......#...#");
            //AddMapRow(10, "#.#.###.#####.###");
            //AddMapRow(11, "#.#.#...#.....#.#");
            //AddMapRow(12, "#.#.#.#####.###.#");
            //AddMapRow(13, "#.#.#.........#.#");
            //AddMapRow(14, "#.#.#.#########.#");
            //AddMapRow(15, "#S#.............#");
            //AddMapRow(16, "#################");
            //return;

            AddMapRow(000, "#############################################################################################################################################");
            AddMapRow(001, "#.#.....#.........#...#.......#.......#.......#.................#...#...#.........#...#.........#.....#.....#.......#.......#...#.......#..E#");
            AddMapRow(002, "#.#.###.#.###.#####.#.#.#####.#.#.###.#.###.###.#####.#.#######.#.###.#.#.###.#.#.#.#.#.#####.#.#.###.#.#.###.#.#####.#.###.###.#.###.#.#.#.#");
            AddMapRow(003, "#.....#.#...#.......................#...#...#.....#...#.#.....#.......#...#...#.#...#...........#...#...#.....#.#.....#...#.....#...#.#.....#");
            AddMapRow(004, "#.#####.###.#.#.#####.#####.###.###.#########.#####.#####.###.#.#.#.#######.###.#####.#.###.#.#####.#######.###.#.#######.#######.###.#####.#");
            AddMapRow(005, "#.#...#.#...#...#...#.....#.#.#...#...........#...#.#.....#...#.#.#...#.......#.#.....#...#.#...#...#...#.....#...#.#...#.........#...#.....#");
            AddMapRow(006, "#.#.#.#.#.###.#.###.###.###.#.#.#.#############.#.#.#.#####.###.#.###.#.#####.#.#########.#.###.#.###.#.#.###.#####.#.#.###########.###.#.#.#");
            AddMapRow(007, "#...#...#.....#...#...#.....#...#.....#.....#...#.#.#.#...#...#.#.#...#.#.....#.............#...#.#.#.#...#.......#...#...#.........#...#...#");
            AddMapRow(008, "###.###.#####.#.#.#.#.#########.###.#.###.#.#.###.#.#.#.#####.#.#.#.###.#.###.###############.#.#.#.#.#####.#####.###.#.###.###########.#####");
            AddMapRow(009, "#...#...#...#...#...#.#.#...........#.......#.#.....#.#.....#.#...#.#...#.#.....#...........................#.......#.#...#...#.......#.....#");
            AddMapRow(010, "#.###.###.#.#.#.#####.#.#.###.#.#########.#.#.#######.#####.#.#.#.#.#.###.#####.###.#######.#####.#.###.#.#########.###.#.###.#.#####.#####.#");
            AddMapRow(011, "#.#...#...#.........#.#...#...#.#.......#...#.......#.#.....#...#.#.#.#.#.........................#.#...#.......#.#...#.#...#.#...#.#...#...#");
            AddMapRow(012, "#.#.#######.#.#.#####.#####.###.#.#.#####.#######.#.#.#.###.###.###.#.#.###.#.###.#.#.###.#.#.#####.#.#########.#.###.#.#.###.###.#.###.###.#");
            AddMapRow(013, "#.#.......#...#.....#.....#.#.....#.#.....#...#.#...#.#.#...#...#...#.....#.#.......#.#.....#...#.....#...................#...#...#...#...#.#");
            AddMapRow(014, "#.#######.#####.###.#####.#.###.###.#.###.#.#.#.#.###.#.#.###.###.###.#####.#.#######.#.#######.#.#####.#########.#.#.###.#.###.###.#.###.#.#");
            AddMapRow(015, "#.#...#...#...#.#.#.....#.#...#...#.........#...#...#...#...#.....#...#.....#.#...#...#.#.....#.#.....#.........#.#.#.#...#.........#.#...#.#");
            AddMapRow(016, "#.#.###.###.#.#.#.###.#.#.###.###.#########.###.###.#######.#######.#.#.#######.#.#.###.#.#.###.#####.#########.#.#.#.#.###############.###.#");
            AddMapRow(017, "#.#.........#.#...#...#...#...#.....#.......#...#.#.......#.#...#.....#...#.....#...#...#.#.....#...#...#.....#.#.....#.................#...#");
            AddMapRow(018, "#.###########.#####.#.###.#.#######.#.#######.###.#######.#.###.#.#######.#.#########.###.#######.#####.#.###.#.#.#######.#.#.#########.#####");
            AddMapRow(019, "#.#...#.....#...#...#.#...#.....#...#.#.....#.#.....#...#...#...#.#.......#.#.......#...#...#.#.........#...#...#...#.....#.#...#.#.....#...#");
            AddMapRow(020, "#.#.#.#####.###.#.###.#.#######.#.###.###.###.###.#.###.#.###.###.#.#.#.###.#.#####.#######.#.#.#####.###.#.#######.#.#.#.#####.#.#.#####.#.#");
            AddMapRow(021, "#...#.#.....#.#.#...#.#.#.......#.#.....#...#.....#.#.......#.#...#.#...#...#...#.#...#.....#...#...#.#...#.....#...#.#.#.......#...#...#.#.#");
            AddMapRow(022, "#####.#.###.#.#.#.#.#.#.#.#######.###.#.#.#.#######.#.#####.#.#.###.#.###.#.###.#.###.#.#########.#.###.###.#####.###.#.###.#####.###.###.#.#");
            AddMapRow(023, "#...............#.#.#.#...#.....#.....#.#.#...#...#.#...#.#.....#...#...#.#.#.......#.#...#.......#.....#.....#...#...#...#.#.......#...#.#.#");
            AddMapRow(024, "#.#.#.#.#.###.#.#.#.#####.#.#.#.###.###.#.###.#.#.#.###.#.#.#####.#######.###.#######.#.#.#.###############.#.#.#########.#.#.#####.###.#.#.#");
            AddMapRow(025, "#.......#.#.#.#.#.....#...#.#.#...#.#...#...#.#.#.#.....#.#.......#.....#...#...#...#.#...#.#.#.....#.......#.#.#.....#...#.#.#...#.....#.#.#");
            AddMapRow(026, "#.#######.#.#.#.###.#.#.#.#.#.#####.#.#####.#.#.#.#######.#####.#.#.###.###.#.###.#.#.#.###.#.#.#.#.###.###.#.#.###.#.#.###.#.#.#.#####.#.#.#");
            AddMapRow(027, "#...#.....#...#...#.....#...#.......#...#...#...#...#...#.......#...#...#.#...#...#...#.#...#...#.#.....#...#.#.#...#...#...#...#.....#.#.#.#");
            AddMapRow(028, "#.#.###.#######.#.#.#.#.###############.#.#######.#.#.###.###########.#.#.#####.#####.#.###.#.###.#.#######.#.#.#.#####.#.#.#.#######.###.#.#");
            AddMapRow(029, "#.#...#...#...........#...#.#...........#.....#...#.#.#...#...#.........#.#.....#.#...#.....#...#...#.....#...#.#.#.....#...............#.#.#");
            AddMapRow(030, "#####.#.#.#.#############.#.#.#####.#.###.#####.###.#.#.###.###.#.#####.#.#.#####.#.#############.#.#.###.#####.#.#####.#######.#######.#.#.#");
            AddMapRow(031, "#.....#.#.#...#...........#...#...#...#...#.....#.....#...#.....#.#.......#.....#.#...#...#.....#.#.#...#.#...#.#.#...........#.......#...#.#");
            AddMapRow(032, "#.#####.#.###.#.###############.#.#.#######.#.###########.#.#####.#.###########.#.###.#.#.###.#.#.#####.#.#.#.#.#.#.#.#.#####.#.#####.#####.#");
            AddMapRow(033, "#.......#...#.#...#.....#.......#...#.......#.#...........#.#...#.#...#.........#...#...#.....#...#...#.#.#.#.#.#...#.#.......#...#.....#.#.#");
            AddMapRow(034, "#.#.###.#.###.###.###.#.#.#############.#####.#.#.###########.#.#.#.###.#########.###.#############.#.#.#.#.#.#.#.###.###########.#.###.#.#.#");
            AddMapRow(035, "#.#.....#.....#...#...#.#.....#...#.....#...#.#.....#.........#.#.#.#...#...#...#.....#...#...#...#.#...#...#...#...#.......#.....#.#.....#.#");
            AddMapRow(036, "#.###########.#.###.###.###.#.#.#.#.#.#####.#.#####.#.#####.###.#.#.#.###.#.#.#.#######.#.#.#.#.#.#.###############.#######.#.#####.#####.#.#");
            AddMapRow(037, "#...........#.#.....#.....#.#.#.#.#.#.#...#.......#.#.#...#.#...#.#.#.....#...#.#...#...#...#...#...#.#.............#.....#...#...#...#...#.#");
            AddMapRow(038, "#.#########.#########.###.#.#.#.###.#.#.#.#.#######.#.###.#.#.###.#.###########.#.#.#.###############.#.###############.#.#######.###.#.###.#");
            AddMapRow(039, "#.#.......#.#.........#...#.#.#.....#.#.#...#...#...#...#.#.#...#.#...#.#.....#...#...#...#.......#.....#.........#.....#.#.........#.#.....#");
            AddMapRow(040, "#.#.#####.#.#.###.###.#.#####.#.###.#.#.#.#.#.#.#.#####.#.#.###.#.###.#.#.###.#########.#.#.#####.#.#####.#######.#.#.###.#.#####.###.###.#.#");
            AddMapRow(041, "#.........#...#.#.#...#.#.....#.......#.#.#.#.#.#.....#...#.....#.#.#.#.#.#.........#...#...#...#...#.....#...#...#.#...#...#...#.#...#...#.#");
            AddMapRow(042, "###.#######.###.#.#.###.#.#####.#######.#.###.#.#####.#######.#.#.#.#.#.#.#.#######.#.#.###.###.#####.#######.#.###.###.#.###.#.###.###.###.#");
            AddMapRow(043, "#...#.....#...#.#.#.#...#...#.#.........#.#...#.....#...#.....#.#.#.#.#...#.#.....#.#.#...#.....#.#...#.....#...#.....#.#.#...#.....#...#.#.#");
            AddMapRow(044, "#.###.###.###.#.#.#.#.#####.#.#.#######.#.#.#.#.#######.#.#####.#.#.#.#####.###.#.#.#.###.#####.#.#.#.#.###.#.###.###.#.#.#.#######.#.###.#.#");
            AddMapRow(045, "#...#.#.#...#...#.#.#.#.....#...#.....#.#.....#.......#.#.#...#...#.#.......#...#.#...#.#.....#.#...#...#.#.........#.#.#.#.#.#.............#");
            AddMapRow(046, "###.#.#.###.###.#.###.#.#####.###.###.#.#########.#.#.#.#.#.#.#####.#########.###.#####.#####.#.#####.###.#.#######.###.#.#.#.#.#.#.#.###.#.#");
            AddMapRow(047, "#...#.#.#...#.#.#.......#...#.#.......#...#.....#...#.#...#.#.................#...........#...#.#...#.#...#...#...#.....#.#.#.......#...#...#");
            AddMapRow(048, "#####.#.#.###.#.#########.#.#.#.###.#######.###.#.###.#####.#########.#################.###.###.#.#.#.###.###.#.#.#########.#.###.#.###.###.#");
            AddMapRow(049, "#.......#...#...#.........#.#.#.#.....#.....#...#...#.......#.........#...#.....#...#...#...#...#.#.#.....#...#.#...........#.#.#.#...#...#.#");
            AddMapRow(050, "#.#########.#.###.#########.#.#.#####.#.#####.###############.#######.#.#.#.###.###.#.###.###.###.#.#####.#.###.###.#########.#.#.###.###.###");
            AddMapRow(051, "#.#...#.....#...#...#.#.....#.#...#.#...#.............#.....#.....#...#.#.#...#...#.#...#...#.....#...#...#.#...#...#...#...#...#.#...#.#...#");
            AddMapRow(052, "#.#.#.#.#####.#.###.#.#.#####.###.#.#####.###########.#.###.#####.#####.#.###.###.#.#.#####.#########.#.###.#.###.###.#.#.#####.#.#.###.###.#");
            AddMapRow(053, "#.#.#.#.........#.....#.#.....#...#.....#.#.#.......#...#.#.#...#.......#...#.#...#...#...#.......#.......#.#.#...#...#.#.......#.......#.#.#");
            AddMapRow(054, "#.###.###.###.#.#.###.#.###.###.#.#####.#.#.#.#.###.#####.#.#.#.###.#####.###.#.#####.#.#.#######.###.#####.#.#.###.###.###############.#.#.#");
            AddMapRow(055, "#...#.#.......#.#...#.....#.#...#.#...#.....#.#...#.....#.#...#...#...#...#...#.....#...#.......#...#.......#.#.#...#.....#...........#...#.#");
            AddMapRow(056, "###.#.#.#.###.#.###.#####.###.#####.#.#######.###.#####.#.#######.#####.###.#.#####.###.#.#####.###.#######.#.###.#######.#.#.#######.#####.#");
            AddMapRow(057, "#.#.#.#...#...#.#.#...#.....#.#.....#.#...#...#.......#.#.......#.....#.....#.....#.....#...#.....#...#.....#...#.......#.....#...#.#.....#.#");
            AddMapRow(058, "#.#.#.###.#.#.#.#.###.###.#.#.#.#####.#.#.#.###.###.###.#.#####.#####.#.#####.#.#.###.###.#.#.###.#.#.#.###.###.#####.#.#.#####.#.#.#####.#.#");
            AddMapRow(059, "#...................#.....#...#.....#...#.....#.#...#...#.#...#.....#.#...#...#.#.#...#...#...#.....#...#...........#.#.#.#.....#...........#");
            AddMapRow(060, "#.###.#.#.###.#####.#####.#.#######.#########.#.#####.###.#.#.#####.#.###.#####.#.###.#.#.#########.#####.###########.#.#.#.#####.#.#.#####.#");
            AddMapRow(061, "#.#.#...#.........#...#...#.#.......#.....#.....#.....#...#.#.#...#.....#.......#.#...#.#.#.......#.......#.......#...#.#.#...#.#.#.#.....#.#");
            AddMapRow(062, "#.#.#.#.#.###.###.#####.#####.#######.###.#.###.#.#####.###.#.#.#.#####.#########.#.#.#.###.#####.#.#####.#.#####.#.###.#.###.#.#.#.#####.#.#");
            AddMapRow(063, "#.#...#.......#...#...#.......#.......#.#.#.....#.#.....#...#...#.....#.....#.....#.#.#.....#.....#.#.........#...........#.#.#.#.#.....#...#");
            AddMapRow(064, "#.#.###.#.###.#.###.#.#########.#######.#.#.#####.#######.###########.#####.#####.#.#########.#####.#.#######.###########.#.#.#.#.###.#.###.#");
            AddMapRow(065, "#.#...#.#.....#.....#.........#.#.......#.#.....#.#.....#.......#...#.....#.....#.#.......#...#...#.#.......#...#...#...#.#.#.#.#...#.#.#...#");
            AddMapRow(066, "#.###.#.#.#.#.###.#######.#.###.#.#####.#.#####.#.#.###.#.#.###.#.###.###.#####.#.#.#.###.#.###.#.#########.###.#.#.#.#.#.#.#.#.###.#.###.###");
            AddMapRow(067, "#...#.#.#...........#.....#.#...#.#.#...#.....#.#...#...#.#.#.#.#.#.....#.#...#.#...#...#.#.....#.........#.#...#.#...#.#...#...#.#.#.....#.#");
            AddMapRow(068, "###.#.#.#.###.###.#.#.#######.###.#.#.#.#####.#.#####.#.#.#.#.#.#.#.###.#.#.###.#.#.###.#.#############.###.#.###.#####.#######.#.#.#.#####.#");
            AddMapRow(069, "#.................#.#.....#...#...#.#.......#.#.#.....#.#...#.#.#.#.#.#.#.#...#.#.#...#.....#.....#...#...#.#...#...#...#...#...#.#.#.......#");
            AddMapRow(070, "#.#.###.#.###.#.#########.#.###.#.#.#######.#.###.###########.#.#.#.#.#.#.###.#.#.###.###.#.#.###.#.#.###.#.###.#.###.###.#.#.###.#.#.###.#.#");
            AddMapRow(071, "#.#...#.#.#...#.#.........#.#...#.#.........#.....#...#...#...#.#.#.#.#.#.#...#.#.#.....#.#...#.#...#...#...#.#.#.#...#.......#...#.#.....#.#");
            AddMapRow(072, "#.###.#.#.#.#.#.#.#####.#.#.#.###.###.#.#########.#.#.#.#.#.#.#.#.#.#.###.#.#.#.#.#####.#.#.###.#######.#####.#.#.#.###.#######.#.#.#######.#");
            AddMapRow(073, "#...#.#...#.#.........#...#.#.#.#...#...#.....#...#.#...#...#.....#.#.....#...#.#...#...#...#.....#.....#.....#...#.....#.....#.#.#.#.......#");
            AddMapRow(074, "#.###.#.#.#.###.#####.#.###.#.#.###.###.#.###.#.###.###########.#.#.#.#.###.###.###.#######.#.#####.#####.#.#####.#######.###.#.#.#.#.#.#####");
            AddMapRow(075, "#.#...#...#.#.#...#...#...#.#.....#...#...#...#...#...............#.....#...#...#...........#.#...#...#.#.#...........#.#...#...#.#.#.......#");
            AddMapRow(076, "#.#.#####.#.#.###.#.#####.#.#.#####.#.###########.###.#######.###.#########.#.###############.#.#.###.#.#.#########.#.#.#.#.###.###.###.###.#");
            AddMapRow(077, "#...#.....#.#.....#.....#.#.#.#...#.#.............#...#...#...#.#.#.........#.........#.........#...#.#...........#.#.#.....#...#...#.....#.#");
            AddMapRow(078, "#.#####.#.#.###.#######.###.###.#.###############.#.###.#.#.#.#.#.#.#.###############.###########.###.#.#####.#####.#.#####.#####.###.#.###.#");
            AddMapRow(079, "#.#.....#.#...#...#...#...#.....#.....#.........#.#...#.#...#...#...#.#.............#...#.............#.#...#.....#.#.......#...#.#.#.#...#.#");
            AddMapRow(080, "#.#.#####.#.#.###.#.#.###.###########.#.#######.#####.#.#####.###.#.#.#.###########.###.#.#####.###.#####.#.#.###.#.#########.#.#.#.#.#.#.#.#");
            AddMapRow(081, "#...#...........#.#.#.#.#...........#...#...#.#.......#.#.#.......#.#...#.........#.....#.....#...#...#...#...#.#...#.........#.#.#.#.#.#...#");
            AddMapRow(082, "#####.#.#.#.###.#.#.#.#.#.#.###.###.#####.#.#.#########.#.#.#######.###.#####.###.###########.###.###.#.#######.#.###.#########.#.#.#.#.#####");
            AddMapRow(083, "#.............#...#.#...#...#.#.#...#.....#...#.........#.........#...#.....#...#...#...#...#...#.#.....#.....#.#.#...#.......#...#.#...#...#");
            AddMapRow(084, "#.#.#####.#.###.###.#########.#.#.#####.#######.###.#############.###.###.#.#####.#.#.#.#.#.###.#.#####.#.###.#.#.#.###.#.#######.#.###.###.#");
            AddMapRow(085, "#.#.#.....#.#...#.............#.#.#...#...#.......#.....#.......#.#.#.....#.......#.#.#...#.#...#.#...#.#.....#...#.#...#.#.....#.....#.#...#");
            AddMapRow(086, "#.###.###.#.#.###.#.###.#.#####.#.#.#.###.#.###########.#.#####.#.#.#############.#.#.#####.#.###.#.#.###.#.###.###.#.###.#.###.#.#.###.#.#.#");
            AddMapRow(087, "#...#.#.#.#...#.....#...#.#.....#...#.#...#.#...#.....#.#...#...#...#.....#.......#.....#.#...#...#.#.....#...#...#.#.#...#.#.#...#...#...#.#");
            AddMapRow(088, "###.#.#.#.#.#########.###.#.#########.#.#.#.###.#.###.#.###.#.#####.#.###.#.###.###.###.#.#####.###.#########.#####.#.#####.#.###.###.#.#.#.#");
            AddMapRow(089, "#...#...#.#.#.......#.#.......#.....#.#.#.#...#.#...#.....#.#...#.....#...#...#.....#...#.#.........#.......#.....#.#.#.....#.....#.#...#...#");
            AddMapRow(090, "#.###.###.#.###.###.#.#.#####.#.###.#.#.#.###.#.###.#######.###.#############.#######.###.#.#########.#####.#####.#.#.#.#####.###.#.#.#.#.###");
            AddMapRow(091, "#...#.#...#...#...#...#.#...#.#...#.....#.#.#.#...#.......#...#...........#...#.......#...#.#...#.........#.....#.....#.......#.....#.#.#.#.#");
            AddMapRow(092, "#.#.#.#.#####.###.#####.#.#.#.###########.#.#.###.#######.###.#######.###.#.#########.#.###.#.#.#.#########.#.#######.###.#.#####.#.#.#.#.#.#");
            AddMapRow(093, "#.#...#.....#...#...#.....#.#.......#...#...#...#.......#.....#.......#...#.......#...#.....#.#.#...#.......#.......#.....#.....#...#.....#.#");
            AddMapRow(094, "#.#######.#####.#.#.#######.#######.#.#.#######.#.#####.#############.#.#########.#.#.#####.#.#.###.#.#########.#.###.###.#.###.#.#####.#.#.#");
            AddMapRow(095, "#.#.....#.#...#.#.#.#...#...#.....#...#.#.......#.#.....#.............#.........#.#...#...#...#...#.#...#.......#...#.#...#.#...#.......#...#");
            AddMapRow(096, "#.###.###.#.#.#.#.#.#.#.#####.###.#####.#.#######.#####.#####.#.#.#.#.#######.###.#.###.#.###.#.#.#.###.#.###.#.###.#.#.#.#.#.#########.#.#.#");
            AddMapRow(097, "#...#...#.#.#.#.#.#...#...#...#.#...#...#...#.#...#...#.#.....#...#.#.#.#.....#...#...#.#.......#.#...#.#...#.#.....#.#.#...#.......#.#.....#");
            AddMapRow(098, "###.###.#.#.#.#.#.#######.#.###.#.###.#####.#.#.#.#.#.#.#.#####.###.#.#.#.#.###.###.#.#.#########.###.#.###.#.#.#.###.#####.#######.#.###.#.#");
            AddMapRow(099, "#.#...#.#...#...#.#.....#...........#.....#.....#...#.#.#.#.#...#...#...#.#.#...#...#.......#.....#...#...#.#...#...#.....#.#.#.....#.....#.#");
            AddMapRow(100, "#.#.#.#.#####.###.#####.###########.###.###.#.###.#.#.#.#.#.#.#####.###.#.###.###.###########.#########.#.#.#######.#####.#.#.#.#####.#####.#");
            AddMapRow(101, "#...#.#...#.....#...#.....#.....#.....#.#...#.#.#...#.#.............#...#.....#.#.....#.#.....#.........#.#.#.....#.......#...#.#.....#.....#");
            AddMapRow(102, "#.#.#.#.###.###.###.#.#####.###.#.###.#.#.###.#.#####.#####.###################.#####.#.#.#####.#######.###.#.#.###############.#.###.#.#####");
            AddMapRow(103, "#.#.#.#...#...#.#.....#...#...#...#...#...#.......#...#.....#.#...........#.........#.#.#.#.....#.......#...#.#...............#.#.#...#.#...#");
            AddMapRow(104, "#.#.#.###.###.#.#.#####.#.###.#####.###############.###.###.#.#.#.#####.###.#######.#.#.#.###.#######.###.#########.#########.#.#.#.###.###.#");
            AddMapRow(105, "#.#.#...#.....#...#.....#.....#...#.......#.......#.#.........#.#.........#.#.....#...#.#...#...#...#.#.#.......#...#.......#...#.#...#.#...#");
            AddMapRow(106, "#.#####.#.#####.###.#.#########.#########.#.#####.#.#.#####.#.#.###.#####.#.#.#.#.#####.###.#.#.#.#.#.#.#.#.#.#.#.###.###########.###.#.#.#.#");
            AddMapRow(107, "#.#.....#.#...#...#...#.#...#...........#.#.....#...#...#...#.#...#.....#...#.#.#.......#...#.#...#.#...#.#.#...#...#.#.........#.#.#.#...#.#");
            AddMapRow(108, "#.#.#######.#.###.###.#.#.#.#.#######.#.#.#####.#######.#.###.###.#####.#######.#######.#.###.#####.#.###.#.#.#.###.#.#.#######.#.#.#.#####.#");
            AddMapRow(109, "#...#.......#.#.....#.#...#.#.#.#...#.#.#.....#.....#.#...#...#.#...............#...#...#.#.#...#...#.#.....#.....#.#...#.....#...#.#.....#.#");
            AddMapRow(110, "#.#####.#####.#####.#.#.#.#.#.#.#.#.#.#.#####.#.###.#.#.###.###.#####.#########.#.#.#####.#.#.#.#.###.#.###.#####.#.#.###.#.#.#####.###.###.#");
            AddMapRow(111, "#.......#...#...#...#.#...#.#.#.#.#.#.#...#...#...#.#.....#...#.#...#.......#.....#...#...#.....#...#.#...#.....#.#.#.....#.#.....#...#.#...#");
            AddMapRow(112, "#########.#.###.#####.#.###.#.#.#.#.#.#####.#######.#.###.###.#.#.#.#.#.###.#.###.###.#.###.#######.#.###.#####.#.#.#######.#####.#.#.#.#.###");
            AddMapRow(113, "#...#.....#...#...#...#.#.#.....#.#...#...........#.#...#...#...#.#...#.#...#.#.....#.#.#.#.#.....#.#.....#.....#.#...#...........#.#.#.....#");
            AddMapRow(114, "#.#.#.#####.#.###.#.###.#.#.#####.###.#.#.###.#.#.#.###.#.###.###.#####.###.#.#.#.###.#.#.#.###.#.#.###.#.#.#.###.###.#######.#.#.#.#.#.###.#");
            AddMapRow(115, "#.#.#.#...#.#...#.#.#.#.#...#.....#...#.....#.#.#.#...#.#...#.#...#...#...#.#.#.#...#.#.#...#...#.#...#.#.#...#.#...#.#.......#.....#.#...#.#");
            AddMapRow(116, "#.###.#.###.#####.#.#.#.###.#.#############.#.#.#.###.###.#.#.#.#####.###.#.#.#.###.#.#.#.###.#.#####.#.#.#.#.#.###.#.#.#####.#######.###.#.#");
            AddMapRow(117, "#.....#...#.#...#...#.#.#...#...#...#...#...#...#...#...#.#...#.......#...#...#...#...#.#.#...#.#...#.#.#.#.#.#...#.#...#...#.....#...#...#.#");
            AddMapRow(118, "#.#######.#.#.#.#####.#.#.#.###.#.#.#.#.#.###.#####.###.###########.###.#########.#####.#.#.###.#.#.#.###.###.#.#.#.#.###.#.#####.#####.###.#");
            AddMapRow(119, "#.........#...#.......#.#.#...#...#.#.#...#.....#.....#.....#...#...#...#.......#.......#...#.....#.#...#.....#.#.#.#.#...#.......#...#.....#");
            AddMapRow(120, "#####.#######.###.###.#.#.###.#####.#.#####.###.#####.#####.#.#.#.###.###.#####.#############.#####.#.#.#######.###.#.###.#####.#.#.#.#####.#");
            AddMapRow(121, "#...#.#.....#...#...#.#.#.#...#...#.#.....#...#.....#.......#.#...#...#.......#.#...........#...#.#.#.#.......#.....#...#.....#.#...#.....#.#");
            AddMapRow(122, "#.#.#.#.###.#######.###.#.#####.#.#.#####.#.#######.#######.#.#####.###.#####.###.#####.###.###.#.#.#####.###.#.#######.#####.#.#######.#.#.#");
            AddMapRow(123, "#.#...#.#...#.....#.#...#.......#.#.......#.#.....#.....#...#.#...#.#.....#...#.........#...#...#.#.......#...#.....#.........#...#...#.#.#.#");
            AddMapRow(124, "#.#####.#.###.###.#.#.###########.###########.#.#.#.#.###.###.#.#.#.#####.#.###.#####.#.#.###.###.#.###############.#.#######.#####.#.###.#.#");
            AddMapRow(125, "#.....#.#.#...#.....#...........#.......#.....#...#.#...#...#.#.#.#...#...#.....#...#.#.#...#.#.....#.......#.....#.#.#...#...#...#.#.#...#.#");
            AddMapRow(126, "#####.#.#.###.#.###.###.#.#####.#.#####.###.###.###.#.#.###.#.###.#.#.#.#.#######.#.###.###.#.#.#####.#####.#.#.#.#.###.#.#.###.#.#.#.#.#.#.#");
            AddMapRow(127, "#...#.#.#.....#.#.........................................#.#...#...#...#.....#...#.....#...#.#.#...#.#...#.#.#.#.#...........#.#...#...#.#.#");
            AddMapRow(128, "#.#.#.#.#####.###.#.###.#.###.#.#.#.#########.#.#.#.#.###.#.###.###.###.#####.#.#########.###.#.###.#.#.#.#.#.#.#####.#.#.#####.#########.#.#");
            AddMapRow(129, "#.#...#.#.....#...#.....#.#...#...#.........#.#.....#...#...#...#.....#.....#.#...#.....#.....#.#...#...#.#...#.....#...#.#.....#.......#...#");
            AddMapRow(130, "#.#####.#.#####.###.#.#.#.#########.###.#####.#.#.###.###.###.###.#.#######.#.###.#.#.#########.#.#.###.#.#######.#.#####.#.#####.###.###.###");
            AddMapRow(131, "#.....#.#.....#.....#.#.#...#.....#...#.....#...#.......#.#...#...#.........#.#.#.#.#.........#...#.....#.....#...#...#.#.#...#.....#...#...#");
            AddMapRow(132, "#####.#.###########.#.#.#.#.#.###.###.#####.###.#.###.#.###.#####.#.#.#.#####.#.#.#########.#.#.###.###.#.#.###.#####.#.#.###.#.#######.###.#");
            AddMapRow(133, "#.....#...#.......#.#.#...#.#...#.#...#.#...#...#...#.#.#...#.....#.#.#.....#.#.#.........#.#...#.......#...............#.....#.#...#...#...#");
            AddMapRow(134, "#.#######.#.#.###.#.#.#.#.#.###.#.#.###.#.###.#.#.#.#.#.#.#####.#.#.###.###.#.#.#########.#.###.#.###.#.###.#.###.#.###.#########.#.#.#.#.###");
            AddMapRow(135, "#.#.......#.#...#...#...#.#...#.#.#...#.#.....#...#.#.#.........#.#.......#.#.#...........................#.#...#.#.........#.....#...#.#.#.#");
            AddMapRow(136, "#.#.#######.#.#.#####.#.#.#.#.#.#.###.#.#######.#.#.#.#.###########.###.###.#.#.###.#.#########.#######.#.#.###.#.#.#######.#.#####.#####.#.#");
            AddMapRow(137, "#.#.#.......#.....#...#.#.#.#...#...............#.#.#.............#...#.#...#.#...#.#.#.......#.........#.......#.#.....#.....#.....#...#.#.#");
            AddMapRow(138, "#.#.#.#######.###.#####.#.#.#######.#.#####.###.#.#.#.#.#########.#.#.#.#.###.###.#.#.#.#####.#.#####.#####.###.#.#.###.#############.#.#.#.#");
            AddMapRow(139, "#S#...........#.........#.........#.........#.........#.............#.....#.......#.#.......#.......#...........#.....#...............#.....#");
            AddMapRow(140, "#############################################################################################################################################");
        }

        void DumpMap()
        {
            for (var x = 0; x < mapSizeX; x++)
            {
                for (var y = 0; y < mapSizeY; y++)
                {
                    Console.SetCursorPosition(x, y);
                    Console.Write(map[x, y]);
                }
            }
        }

    }
}
