//https://adventofcode.com/2023/day/12
using MathNet.Numerics.Distributions;
using System.Text.RegularExpressions;

namespace AdventOfCode.Year2023
{
    class Day12
    {
        List<(string condition, string groups)> springs;
        int copies;
        Dictionary<string, long> cache;

        public Day12()
        {
            springs = [];
            copies = 1;
            cache = [];
        }

        public void Run()
        {
            var start = DateTime.Now;

            springs = [];
            copies = 1;
            GetData();

            long total = 0;

            foreach (var spring in springs)
            {
                (var condition, var groupList) = spring;
                var groups = groupList.Split(',').Select(g => int.Parse(g)).ToList();

                total += CountArrangements(condition, groups);
            }

            Console.WriteLine($"Total arrangements: {total}");
            // 7379
            Console.WriteLine($"{(DateTime.Now - start).TotalMilliseconds}ms");

            springs = [];
            copies = 5;
            GetData();

            total = 0;

            foreach (var spring in springs)
            {
                (var condition, var groupList) = spring;
                var groups = groupList.Split(',').Select(g => int.Parse(g)).ToList();

                total += CountArrangements(condition, groups);
            }

            Console.WriteLine();
            Console.WriteLine($"Total arrangements: {total}");
            // 7732028747925
            Console.WriteLine($"{(DateTime.Now - start).TotalMilliseconds}ms");
        }

        long CountArrangements(string springs, List<int> groups)
        {
            var key = $"{springs},{string.Join(',', groups)}";  // Cache key: spring pattern + group lengths

            if (cache.TryGetValue(key, out var value))
            {
                return value;
            }

            value = GetArrangementCount(springs, groups);
            cache[key] = value;

            return value;
        }

        /// 
        /// Taken from https://pastebin.com/djb8RJ85
        /// 

        long GetArrangementCount(string springs, List<int> groups)
        {
            while (true)
            {
                if (groups.Count == 0)
                {
                    return springs.Contains('#') ? 0 : 1; // No more groups to match: if there are no springs left, we have a match
                }

                if (string.IsNullOrEmpty(springs))
                {
                    return 0; // No more springs to match, although we still have groups to match
                }

                if (springs.StartsWith('.'))
                {
                    springs = springs.Trim('.'); // Remove all dots from the beginning
                    continue;
                }

                if (springs.StartsWith('?'))
                {
                    return CountArrangements("." + springs[1..], groups) + CountArrangements("#" + springs[1..], groups); // Try both options recursively
                }

                if (springs.StartsWith('#')) // Start of a group
                {
                    if (groups.Count == 0)
                    {
                        return 0; // No more groups to match, although we still have a spring in the input
                    }

                    if (springs.Length < groups[0])
                    {
                        return 0; // Not enough characters to match the group
                    }

                    if (springs[..groups[0]].Contains('.'))
                    {
                        return 0; // Group cannot contain dots for the given length
                    }

                    if (groups.Count > 1)
                    {
                        if (springs.Length < groups[0] + 1 || springs[groups[0]] == '#')
                        {
                            return 0; // Group cannot be followed by a spring, and there must be enough characters left
                        }

                        springs = springs[(groups[0] + 1)..]; // Skip the character after the group - it's either a dot or a question mark
                        groups = groups[1..];
                        continue;
                    }

                    springs = springs[groups[0]..]; // Last group, no need to check the character after the group
                    groups = groups[1..];
                    continue;
                }

                throw new Exception("Invalid input");
            }
        }

        void AddSpring(string condition, string groups)
        {
            if (copies > 1)
            {
                var originalCondition = condition;
                var originalGroups = groups;

                for (var i = 2; i <= copies; i++)
                {
                    condition += "?" + originalCondition;
                    groups += "," + originalGroups;
                }
            }

            springs.Add((condition, groups));
        }

        void GetData()
        {
            AddSpring("?#??##?..???.??", "6,1,1");
            AddSpring("?#?#?#????????.", "8,1");
            AddSpring("??#?#????#....", "3,2");
            AddSpring(".?????????", "4,1");
            AddSpring("???#????????#.", "7,1");
            AddSpring("..????#?.???.?#?.", "4,3");
            AddSpring("??#???..#??", "2,1,1");
            AddSpring("??.?#.?#?#?#?", "1,2,4,2");
            AddSpring("???#?###????#??#.??", "1,13,1");
            AddSpring(".#????#.?#?##?#", "1,3,7");
            AddSpring("?#??#??#????#???##", "5,1,1,1,1,2");
            AddSpring("?#?#???.###?#.?", "1,1,2,3,1");
            AddSpring("?.#.?#??#????", "1,1,3,4");
            AddSpring("????#?#???#.#", "5,2,1,1");
            AddSpring("??#???#???##????", "4,7");
            AddSpring("???#?#??#.#..????", "7,1,1,3");
            AddSpring(".?.????#????#", "2,4,1");
            AddSpring("?.?#??..????#.?", "1,3,3,1,1");
            AddSpring(".??##??.????#?", "4,5");
            AddSpring("??????????", "1,3");
            AddSpring("?..???.?#?.", "2,2");
            AddSpring("?#?#.#????.?#??#", "4,1,1,2,1");
            AddSpring("??????????.?", "2,2");
            AddSpring("??#??#?.?#??", "1,2,2");
            AddSpring("#???#???#?.#??", "1,6,1");
            AddSpring(".??#??#????????????", "12,1");
            AddSpring(".???#?.??..#.", "3,1,1");
            AddSpring("????.??#??", "3,1,2");
            AddSpring("?????#.#?.", "1,1,1");
            AddSpring(".#?????????#", "1,1,1,2");
            AddSpring("???.?????..??????#?", "1,1,3,4,3");
            AddSpring("??.#??#???", "2,3");
            AddSpring("??#??#?.?.#.", "4,1");
            AddSpring("????.??###?????##.?#", "3,5,5,2");
            AddSpring("???#?????#???#.#?", "2,8,2");
            AddSpring("???#?##????.", "1,6");
            AddSpring("?##???????.?", "2,3,1");
            AddSpring("???.#?????", "2,1,2");
            AddSpring("???.????????.?", "2,1");
            AddSpring("???.??.????", "1,1,3");
            AddSpring("??##??##?.", "1,2,3");
            AddSpring("?..??#????#.?", "1,2,3");
            AddSpring("????.???#?#??", "2,6");
            AddSpring("??.??????.", "1,1,1");
            AddSpring("?.???????#????.?", "4,6");
            AddSpring(".??#?????#??", "2,2,1");
            AddSpring("?#?.#?.#???.???##?#", "1,1,1,1,7");
            AddSpring("...###???#?.", "4,2");
            AddSpring("#?.???###????.??????", "1,1,7,1,1,1");
            AddSpring(".#??????.???.#????", "2,1,1,2,1,1");
            AddSpring("??#??#?#???????#", "9,3");
            AddSpring("???#??#??#.?", "2,2,1,1");
            AddSpring(".???.????????.#..??", "1,1,4,2,1,2");
            AddSpring("#??#???##??????????", "12,2");
            AddSpring("????????.???", "3,1");
            AddSpring("????.?##???##.???#.", "1,8,1,1");
            AddSpring(".?????.???#?????", "1,7");
            AddSpring("?????##????", "2,5");
            AddSpring("??????.????#???????#", "1,13");
            AddSpring("#???.?#????#...?", "3,4,2,1");
            AddSpring("?#?.##?.?..????", "2,3,1,1");
            AddSpring("?.#..???..?", "1,2");
            AddSpring("..#???#??????#?.???#", "13,4");
            AddSpring(".????#?#????????.?", "3,6");
            AddSpring("???##??#??#??", "2,9");
            AddSpring("?.???##???..#???", "3,1");
            AddSpring("#?##???????#?#?#.", "14,1");
            AddSpring("?###?#???#?#.#??", "7,1,1,1,1");
            AddSpring(".????????##???#?.?", "10,1,1");
            AddSpring("##??##????", "2,2,1");
            AddSpring("?.??#??????#?#??.??#", "1,6,4,1,1");
            AddSpring(".??..?.##???#.?", "2,1,6");
            AddSpring("???????#.??????????", "7,5");
            AddSpring("?.?????#??.#", "1,1,5,1");
            AddSpring("???#?#..??????##?", "2,1,8");
            AddSpring("?.?.????##??..??", "1,1,5,1");
            AddSpring("??.?#.??.??..#?#..#", "2,1,1,1,3,1");
            AddSpring("??#?#?.#???????.??", "6,4,2");
            AddSpring(".?#??#?.?.", "3,1,1");
            AddSpring("?.?????#????????", "1,3,4");
            AddSpring("?#??????#?#??#???", "2,1,6,1,1");
            AddSpring("?#?????##????", "2,1,1,5");
            AddSpring(".?#????.?#??#?#???", "1,3,7,1");
            AddSpring(".#?#???????#???#?", "1,4,1,7");
            AddSpring("??#?..???.?###?", "2,2,4");
            AddSpring("??#??#???#?", "5,3");
            AddSpring(".?????#????#????", "11,1");
            AddSpring("??????#????????#", "8,1,2,1");
            AddSpring(".#??#?.#??#???.??.#", "5,4,1,2,1");
            AddSpring("?.?????#??##?#?#???.", "8,3,1");
            AddSpring(".?#???????", "2,1,2");
            AddSpring(".#?.?.????.", "2,4");
            AddSpring("?.?.???#????", "1,1,4");
            AddSpring("?#??#..?#??...", "4,2,1");
            AddSpring("??#?..???????.?", "2,7");
            AddSpring("#?#????.##???", "1,1,1,4");
            AddSpring(".??##???##.?", "9,1");
            AddSpring("?#??#??????", "1,7");
            AddSpring("?????.?#?.?.", "1,1,3");
            AddSpring(".??#?.????##.?.??.?", "1,4");
            AddSpring("???.???.??#?????", "1,1,1,7");
            AddSpring("?.???.###??", "1,3");
            AddSpring("??.#????#?.", "1,6");
            AddSpring("#??#?..#?????", "1,2,1,1");
            AddSpring("?#??????#????.????.?", "7,5,4");
            AddSpring("?.??#..??.????", "3,1,1");
            AddSpring("?????????????.#?", "1,2,6,2");
            AddSpring("??##?????????##?????", "7,1,2,1,2");
            AddSpring(".?#???#?#??#??", "1,4,1");
            AddSpring("##???#?.#?#???????", "4,2,1,2,1,1");
            AddSpring("?.#??##?#??.???#??", "1,8,2,1");
            AddSpring("..?#.?????", "1,1,2");
            AddSpring("#?????.??.??#?#???", "5,2,6");
            AddSpring("??#?#????????????##?", "5,5,1,5");
            AddSpring("#???.?#?#?#", "2,4,1");
            AddSpring("?#?.???#.?#??.?", "1,1,1,4,1");
            AddSpring(".#?.??#.?##?", "2,1,1,3");
            AddSpring("..???.???#????#??.", "2,2,2");
            AddSpring("?#?.????#??##?????", "2,1,11");
            AddSpring("??.?????.??##?.", "1,4,2");
            AddSpring("?...#??#?#?##?.?????", "1,1,8,1,1");
            AddSpring(".?.?????.?###.???", "1,4,3,2");
            AddSpring("??##??.#.?", "4,1");
            AddSpring("#?.##????#?..#.???", "1,8,1,1");
            AddSpring("???????#???##????#??", "1,1,3,2,5");
            AddSpring("??.?????#???.?.????.", "1,8,1,1,1");
            AddSpring("?????.????????.###", "1,1,2,1,1,3");
            AddSpring("?#.???????#??????.#", "2,6,1,1,1,1");
            AddSpring("????###??#?..#????#?", "2,7,6");
            AddSpring("??#????????##?.?", "5,1,4,1");
            AddSpring("#?????????#?###?", "1,1,1,1,5");
            AddSpring("..??????#.??", "1,1,1,1");
            AddSpring("?.??????.#??", "2,2,1");
            AddSpring("??#??..?#????.", "3,5");
            AddSpring(".###..#?#??", "3,4");
            AddSpring("???#??.?.??.????##", "2,2,4");
            AddSpring("??.??#?.?.??#??#", "2,2,1,3,2");
            AddSpring("?#????????", "3,2");
            AddSpring("??#####???????##???", "9,4");
            AddSpring("??????#?.?", "3,3,1");
            AddSpring("#....??????.?", "1,4");
            AddSpring("??#????.???##.", "1,1,5");
            AddSpring("###?.?..#??????#?", "3,1,5,3");
            AddSpring(".#.??.#?#?.#??#?...?", "1,1,1,1,5,1");
            AddSpring("?.??????#.?#?", "1,1,2,1");
            AddSpring("???.#?????#????#?.?", "9,2");
            AddSpring("??????#?##???#.?????", "12,1");
            AddSpring(".???????#?", "2,1");
            AddSpring("?.?..#?#?????????", "1,1,4,4,1");
            AddSpring("???.?.#.??", "1,1,1");
            AddSpring("..#?.????#??#??", "2,2,5");
            AddSpring("?#.#??#???.???#", "1,1,4,1,1");
            AddSpring("???.?###?.???", "3,3");
            AddSpring("#?.?..?#?##.", "1,1,5");
            AddSpring("?..#??#?.##.", "4,2");
            AddSpring("??????#..????##??#?.", "4,10");
            AddSpring("??????##??#?#?#?.?#.", "3,10,1");
            AddSpring(".?.#??????????", "3,3,1");
            AddSpring("?.?#?#??##??", "1,1,2");
            AddSpring(".???#?...#?", "1,2");
            AddSpring("?..????.?#.???????", "1,2,1,1,1,3");
            AddSpring(".??????????##", "3,6");
            AddSpring("???????.??#?..", "1,4");
            AddSpring("????.??.?.??", "1,1,2,1");
            AddSpring("?#?##??##?#?.?#??", "11,2");
            AddSpring("?.????#??.??", "1,2,1,1");
            AddSpring("??#???????", "2,1");
            AddSpring(".??????.???#?", "2,4");
            AddSpring("??#?#?.?.#?.", "4,2");
            AddSpring("?#?#???.???", "1,3,1");
            AddSpring("????##???#?????#???.", "16,1");
            AddSpring("???..?.???", "1,1");
            AddSpring("???.?????#?????", "2,2,1,3");
            AddSpring(".????.?#?#?##?#?", "2,8");
            AddSpring(".?????####?", "1,5");
            AddSpring("??##??.?###.?#", "2,4,1");
            AddSpring("??.??.??.?", "1,1");
            AddSpring("??#???????", "2,1,2");
            AddSpring("??????##??#?.", "1,6");
            AddSpring("?#..?##.#??.#??????", "1,3,2,5");
            AddSpring("???.#???##...?", "2,2");
            AddSpring("?#..#..#?.", "2,1,1");
            AddSpring("??.#???##??#?????.?", "1,3,5,1,1");
            AddSpring("?#?#??.????.", "4,1,2");
            AddSpring("?#.#.?##???#", "1,1,6");
            AddSpring(".???????###?????", "2,4,1,1");
            AddSpring("??#??##..????##.?", "1,1,3,5");
            AddSpring("?##?#?..?????.?.", "5,1,2,1");
            AddSpring("?????????.?????.?", "4,1");
            AddSpring("?#???#.????", "6,1");
            AddSpring("#?.#?#????###?.????", "1,1,1,4,1,1");
            AddSpring("#.????##???#.??????", "1,9,4");
            AddSpring("#?#???????#?##?.?", "3,1,1,5,1");
            AddSpring("?.?#.??????#??", "2,5");
            AddSpring("???.????##??", "2,7");
            AddSpring("??#????.??.?????", "6,2,1,1");
            AddSpring("???..???.?????#.", "1,2,3,1");
            AddSpring("??#?#..#?#?#????##", "3,1,9");
            AddSpring("??.#??????????..", "1,1,8");
            AddSpring("??#??##??#.", "6,2");
            AddSpring(".???.?##???", "2,4");
            AddSpring("????.??.????##??.???", "3,1,6,1,1");
            AddSpring("#?.##?#?#.?.?##", "1,6,1,2");
            AddSpring("?##??#??.#?.#", "2,1,1,1");
            AddSpring("???????#?.?.??", "8,2");
            AddSpring("#?????#??.", "1,6");
            AddSpring("?#??#?.????", "5,1");
            AddSpring("##?????.????.", "4,1,1");
            AddSpring("???????##???.?#?.#", "6,2,2,1,1");
            AddSpring("?#?????#?????", "3,5");
            AddSpring("????????##", "1,1,3");
            AddSpring("????.?????#?", "4,2,3");
            AddSpring("??.????????.??###..", "1,3,3,4");
            AddSpring("?????????#?.#", "1,3,4,1");
            AddSpring(".##??????#????", "5,6");
            AddSpring("????#??#??.??#?.?#.#", "8,1,1,1");
            AddSpring("?#??????#???????", "2,4,1,2");
            AddSpring("#??.?#????.???", "1,1,5,1");
            AddSpring("?????..???", "3,1");
            AddSpring("?#?.?##.????.?..#???", "2,3,4,1,1,1");
            AddSpring("???.??????????", "1,10");
            AddSpring("?##....?#?..", "2,3");
            AddSpring("##?????#?.????#?.?.", "3,3,5,1");
            AddSpring("##??.??.#..???.", "4,1,1,1,1");
            AddSpring("#???.#?????.", "1,1,5");
            AddSpring("?????#?#?#?#", "2,5");
            AddSpring("?#?#?.?????", "3,1");
            AddSpring("????#?#.?.", "3,1");
            AddSpring("?????.??#??????", "1,1,1,5");
            AddSpring("???#?##???#?#.?", "11,1");
            AddSpring("?#?#?#..??#??.?#??..", "6,1,3,3");
            AddSpring("?.???????.", "1,1,1");
            AddSpring("#??#????#????.???#?", "2,4,5,2,1");
            AddSpring("??##????.#?????", "6,1,2,2");
            AddSpring("????.?####?", "4,5");
            AddSpring("??.?..#?#????#????", "1,1,4,5");
            AddSpring("?#?????????##?#???", "2,2,9,1");
            AddSpring(".??#?##?????#", "5,1");
            AddSpring(".##????????????#.", "2,5,2,1");
            AddSpring(".?????#?####.##?.#", "11,3,1");
            AddSpring("???????.?..??.?.", "3,1,1,1,1");
            AddSpring("?##.???.??..", "3,2,1");
            AddSpring("???????.??#????", "3,3");
            AddSpring("???.????????", "2,4");
            AddSpring("?.?#?#?????.??#.", "1,6,1,1,1");
            AddSpring("?????????#????", "1,3,6");
            AddSpring("???#??.#??", "1,1,1");
            AddSpring(".???..?.?.?????", "2,1,1,1");
            AddSpring("???.??#..?#??#?#?#?", "1,3,10");
            AddSpring("??#?#??##??#???..#", "1,1,5,3,1,1");
            AddSpring("???????#..?#?#?#?.#?", "6,1,2,1,2,2");
            AddSpring("???##.?#.?", "3,1");
            AddSpring("???..???.#?.??????", "2,1,1,2,1,2");
            AddSpring("#???..?????.?", "4,1,1,1");
            AddSpring("??.??#?#??????", "5,1,1");
            AddSpring("??#?.??????", "3,2,1");
            AddSpring("????.###??#??##.?", "1,10,1");
            AddSpring("#?####?##????.#.#", "1,8,1,1,1");
            AddSpring("##?????.#.#.", "2,1,1,1");
            AddSpring("?????#???##????????", "3,1,10,1");
            AddSpring("?#????.???#?#??", "2,1,6,1");
            AddSpring("??.???????#", "1,3,3");
            AddSpring("?.???#..?#???.??#?.?", "3,2,3");
            AddSpring("?????.???#?#.#", "3,4,1");
            AddSpring("#.??#??.#?????..#???", "1,4,1,3,1,1");
            AddSpring("..??.?####????.???.", "6,1");
            AddSpring("?..??##?.?.???#??#??", "1,1,3,1,1,5");
            AddSpring("??.??#?????.???..?", "2,3,2,1,2,1");
            AddSpring("?.??#???????????#?#?", "5,11");
            AddSpring(".????#??#???.??#????", "10,4");
            AddSpring("#?#?.#?#???..?.", "3,1,1,1,1");
            AddSpring("??#?.?.??????", "4,1,1,2");
            AddSpring("??#?.??.#?", "1,1,2");
            AddSpring("#?#?????###??????", "1,2,10");
            AddSpring("?.??.##???#??????", "1,8");
            AddSpring("#??..#.?.#.", "2,1,1");
            AddSpring(".#?????????.?", "1,5,1");
            AddSpring("?#?#??.????????????", "5,3,3");
            AddSpring("???.##.?.???..", "2,1");
            AddSpring("???.?#??#?????#????#", "1,2,7,1,1");
            AddSpring(".##.?.??#???#?#??.?", "2,2,7,1");
            AddSpring("????????#?##.", "2,5");
            AddSpring("#??.???#.??", "1,4");
            AddSpring("?.#?.?.?????", "1,1,1,1");
            AddSpring("?#?.#???#?#??#?#", "2,12");
            AddSpring(".??????.??????#.#", "5,1,1,1,1");
            AddSpring("?.???.?..??", "1,1");
            AddSpring("??##?..?????#????", "3,6");
            AddSpring(".????.##..?#??.", "3,2,4");
            AddSpring("?##?.?###???", "3,5");
            AddSpring(".?.?#?##???????????.", "8,2");
            AddSpring("?????#???????##", "1,1,3,1,4");
            AddSpring("?.?????#?#?##??", "2,8");
            AddSpring(".??????#???.?????#?", "1,8,6");
            AddSpring("?#??#??#.??##????", "2,5,5");
            AddSpring("?????##?????", "7,1");
            AddSpring("???#?.?##.##?", "1,1,2,3");
            AddSpring("?.#.##??##????#", "1,1,2,5,1");
            AddSpring(".#??????##??.#??#??", "1,3,3,1,5");
            AddSpring("?#??????#??.?", "5,4");
            AddSpring("??#?..?????.", "3,1,1");
            AddSpring("????#??.?.???", "6,2");
            AddSpring("??#?.?.??.?.???.??", "3,2,1,1,1,2");
            AddSpring("?#?..?????##????????", "3,1,7,1");
            AddSpring(".???..????", "2,1,1");
            AddSpring("...?#??..??????", "3,3,1");
            AddSpring("???????????", "2,1,1");
            AddSpring("??????#.???.???.?.", "2,2,3,1,1");
            AddSpring("???#??#..???#????.#?", "5,1,5,2");
            AddSpring(".###???#?.", "3,2");
            AddSpring("??.?..??????????", "1,1,1,1,5");
            AddSpring("?????#.????", "6,1,1");
            AddSpring("?.?#?...?#?????????#", "2,11");
            AddSpring("#?#???#???#?##???", "5,5,4");
            AddSpring("?#.??#??##?##?", "1,1,2,2");
            AddSpring("??#?#??.??.??.?.#", "1,4,1,1,1");
            AddSpring("????##??#??", "4,1");
            AddSpring("????.?#?#?.", "1,2,1");
            AddSpring(".???????#?", "3,2");
            AddSpring("???.?.###?", "2,3");
            AddSpring(".#.#?#???.??", "1,1,1,2");
            AddSpring(".??..#??.#.", "1,1");
            AddSpring("??#?.?#?????#.?#.???", "2,7,2,2");
            AddSpring("?#?????????..", "4,1,1");
            AddSpring("?..#???????", "1,2,3");
            AddSpring("?#??..?#?????#", "4,3,1");
            AddSpring("??.???#???", "2,2,1");
            AddSpring("#?#???.#??###???.#", "1,1,1,1,6,1");
            AddSpring("###??#.????#???#.", "6,1,5");
            AddSpring(".????.???#???#", "4,6");
            AddSpring("?.??#.##?#???#?#", "3,4,3");
            AddSpring("?????.?.#?", "1,2");
            AddSpring("?.?#????????..", "5,1");
            AddSpring("#..??.??##??.??", "1,1,5,1");
            AddSpring("#?????#?#????.?.#", "4,5,1,1,1");
            AddSpring("???.?..????.", "2,2");
            AddSpring("?.##???###??.?", "1,2,6,1");
            AddSpring("???.?#???#????.#", "1,2,2,1,1");
            AddSpring("???.??#?#.????.???", "2,1,1,1,1,2");
            AddSpring("..?#?#??.????#?.?", "4,5");
            AddSpring("??##????##????##??#?", "10,1,2,2");
            AddSpring("#?#.?#??##.??##??", "1,1,5,4,1");
            AddSpring("?#?.##?.??#??#?.?", "1,2,2,2,1");
            AddSpring("?.??.????.", "1,1,1");
            AddSpring("??#??.?#??????#??#", "1,3,6,1");
            AddSpring(".?##.???.??", "2,2,1");
            AddSpring("#?#?????#?.??#????#?", "10,2,4");
            AddSpring("????.#?#??.????", "4,4,2,1");
            AddSpring("???????#??##??", "2,4,3");
            AddSpring("?#?.???.?..", "1,2,1");
            AddSpring("??????.?????", "3,1,2");
            AddSpring("#?.???##?#?#??#?#", "1,1,10,1");
            AddSpring("?#????????#??#?.?", "2,1,4,2,1");
            AddSpring("??.?#..???#??.?", "2,2");
            AddSpring("?#????????????..#", "6,2,2,1");
            AddSpring("???#??.??#?#????", "1,2,9");
            AddSpring("?##??#????#?????#", "3,1,1,8");
            AddSpring("?#?##??.?..?.", "7,1");
            AddSpring("????????#??", "1,1,1");
            AddSpring(".?.??.??.?", "1,1,1");
            AddSpring("?????????????????", "2,9");
            AddSpring("#???.??#?#?????.???.", "2,8,1,2");
            AddSpring("????????.#.", "1,5,1");
            AddSpring(".???????.?????", "3,2");
            AddSpring("#???####?#???#??#.", "2,7,6");
            AddSpring("..?###?#????", "4,3");
            AddSpring("??????????.?#?", "2,3,1,1");
            AddSpring("????????.#?????????", "1,1,3,1,4,1");
            AddSpring("????..#.??#.??#.", "4,1,1,1,1");
            AddSpring("??.?#???#?..?.", "1,7,1");
            AddSpring("????...#?.??#?#.?", "1,1,2,3");
            AddSpring("???#??????#?.?#.#?#", "7,1,2,3");
            AddSpring("..??.???.??###?###", "2,9");
            AddSpring("#??#?...?#???", "5,1,2");
            AddSpring(".????.??#?.?", "1,3");
            AddSpring("?????#??.#????#???#", "2,3,8,1");
            AddSpring(".?????????????#??#?.", "1,1,1,10");
            AddSpring("??????????###.", "2,2,1,4");
            AddSpring("???.?.??..?#????#?#?", "2,2,9");
            AddSpring("?#??.?#?.###?.????", "4,2,3,1,2");
            AddSpring("?.??##??#?", "5,1");
            AddSpring("???#??##?#??.###?#??", "11,3,3");
            AddSpring("?#...??????#.", "2,1,1,1");
            AddSpring("#??..#?#??????###?", "1,1,1,3,6");
            AddSpring("????.???#??????????", "1,1,3,1,2,2");
            AddSpring("??????#????", "5,1,1");
            AddSpring("???#.??????#??#????.", "1,1,3,8");
            AddSpring("..?????????????????", "8,2,1");
            AddSpring("???#.?#?.#..", "3,1,1");
            AddSpring("??######?#????#", "10,1,1");
            AddSpring("?.#?..??????#?#???", "1,1,1,8");
            AddSpring("?#???.??##.?", "4,3");
            AddSpring("????#?????.#", "2,2,1,1");
            AddSpring(".?#??????#", "5,1,1");
            AddSpring(".?????...?#?????", "1,1,1,5,1");
            AddSpring("??###??#?????#???", "11,3");
            AddSpring(".????.???#??", "1,2,3");
            AddSpring("?.???#?????#?.???", "1,1,8,1,1");
            AddSpring("?..?..???#??.#??", "1,1,6,1");
            AddSpring("#??##??#?.#?#????", "1,6,1,1,1");
            AddSpring("??#????.??#", "3,1,2");
            AddSpring("??.???###??#????#", "1,6,1,1,1");
            AddSpring(".????#??##??", "2,1,3");
            AddSpring("#.?.?.?#??#???????", "1,1,1,6,3");
            AddSpring("##??????#..??", "7,1,1");
            AddSpring("?#?#?#.?.?#..?", "2,1,1,2");
            AddSpring("???.??.#?#?..?.", "2,4");
            AddSpring("??##??????#??", "6,3");
            AddSpring("?#???.???.", "4,2");
            AddSpring("???#???????##??#??", "1,6,8");
            AddSpring("?.?#??#?.#???", "2,1,1,1");
            AddSpring(".#??.?#???#", "3,2,1");
            AddSpring(".###????#???.?.??#", "11,1,1");
            AddSpring(".?#???#????#??", "2,9");
            AddSpring("??##?#??.#??", "5,1");
            AddSpring("?????#?#????????", "1,1,1,2,2");
            AddSpring("??#???#.??????#?#", "6,1,1,1,1");
            AddSpring("??#??##?#????", "4,4,2");
            AddSpring("??.??#??##?#.#.??#?", "1,1,1,5,1,3");
            AddSpring("????##?#.?##?#?.?#?", "3,4,5,1");
            AddSpring("#..??.?##?", "1,2,3");
            AddSpring("?#?.?????#..?#??????", "1,1,4,2,5");
            AddSpring("?.???..?#.????##.?.?", "1,1,4");
            AddSpring("?.???????###????", "1,5,3,2");
            AddSpring(".#???.#.?.", "1,1");
            AddSpring(".?#.??#??###?#", "2,1,8");
            AddSpring("??.?????#?.", "2,1,1");
            AddSpring("?#???????##?#?..??.#", "1,5,5,2,1");
            AddSpring("??????#?..?.????##", "7,6");
            AddSpring("?#?.#??#.????#??.#", "2,1,1,3,3,1");
            AddSpring("??.??##??.???..??.?#", "1,4,1,1,1,2");
            AddSpring("#?#?#..??.#?????", "5,1,6");
            AddSpring(".?##????..?.?..", "3,1");
            AddSpring("?.????????????", "1,1,5,3");
            AddSpring("???????...?.??????", "1,1");
            AddSpring(".?#??..??????#?????", "3,9");
            AddSpring("????##??..", "4,1");
            AddSpring(".?#?.?????#??##??#?", "3,1,3,6");
            AddSpring("??.#??????#.?????#?", "2,5,1,3");
            AddSpring("?????.??????#??.??", "1,3,9,1");
            AddSpring("?..?????##?#??#??", "1,2,8,1");
            AddSpring("?????#?##?????.?", "1,1,5,1,1");
            AddSpring("?????#??#.????.???.", "1,3,1,4,1,1");
            AddSpring("??#???#????#?#?.????", "1,2,2,6,1,1");
            AddSpring("#???#?..?????#???", "2,3,6,1");
            AddSpring("??.????#?#???.??.#", "7,1");
            AddSpring("??##?????#", "6,1");
            AddSpring("????#?#?#??.??.??", "7,1,1");
            AddSpring("????#?#???????????", "11,2,2");
            AddSpring("?##?.????.", "3,2");
            AddSpring(".?.???###.", "1,3");
            AddSpring(".????#?#.?#???.??", "5,1,2,2,1");
            AddSpring("???.?#???????##???", "1,1,1,1,8");
            AddSpring(".????????????..?.??", "5,5,1,1");
            AddSpring("??#.??????.#?#.", "1,1,5,1,1");
            AddSpring("#???.##?#????#???.", "1,1,2,7,1");
            AddSpring("?#??.?#??.", "1,3");
            AddSpring("??..??##..?", "1,1,2");
            AddSpring("?#??.?????????", "1,1,2,4");
            AddSpring("???#????.???.", "5,1");
            AddSpring("??????#?##??#??#??.?", "2,10,1,1");
            AddSpring("#???##???#..#???#??", "3,2,1,1,1,4");
            AddSpring("?.#?.??.??", "1,2,1");
            AddSpring("??.?#????????#?", "2,2,5");
            AddSpring("??????.???#??????", "1,1,3,1,2");
            AddSpring("??.?#???.?#?", "1,1,1,2");
            AddSpring(".?.???#???????", "1,4,1,4");
            AddSpring("?#.?.?###????#??", "2,9");
            AddSpring("?????..?????????????", "1,6,2");
            AddSpring("#??????#??..??#??#", "1,2,4,5");
            AddSpring("?.??????#??#", "1,6");
            AddSpring(".???.???????#?????", "2,7,2");
            AddSpring("#???.#?#???##?#??.??", "2,1,1,6,1,2");
            AddSpring("#?.?????#.?#.#??#.", "2,6,1,1,1");
            AddSpring("##????#??.?????", "3,1,1,1,1");
            AddSpring(".??##?##?#??.????", "3,2,1,2");
            AddSpring("????#??#???#???..#.", "6,3,2,1");
            AddSpring("??.???#?#?#??.", "1,1,5");
            AddSpring("..??#.?????", "3,1,2");
            AddSpring("???.#.????.?##", "1,1,3,2");
            AddSpring("????.?#..?.?", "2,2");
            AddSpring(".??.???##?", "2,1,3");
            AddSpring("????#?#?#???.???#", "12,3");
            AddSpring("?????#?.??", "2,1,2");
            AddSpring("??####??.???????##?", "7,1,3,2");
            AddSpring("??#?????.?#.?", "1,1,2");
            AddSpring("????#?????##.???", "1,10,2");
            AddSpring("????.????.", "1,2");
            AddSpring("???####???????##", "9,4");
            AddSpring("?#???#.?.?#?##??", "1,2,2,2,1");
            AddSpring("???.???#...#??", "2,2,1,1");
            AddSpring("..#???.?#???.??.?##", "3,5,3");
            AddSpring("..??#?#?.?.??#??#.?", "6,6");
            AddSpring(".#???.##?????##???", "1,2,12");
            AddSpring("?#?.?#??.#.", "2,1,1");
            AddSpring(".#???...#?", "1,1");
            AddSpring("??#.???##??##", "3,2,2");
            AddSpring("?????#????????", "1,2,1,1");
            AddSpring("#?#.???.????.?", "3,1,1,1");
            AddSpring("?????#????#?.?.", "3,1");
            AddSpring(".?????..???#?", "3,1,4");
            AddSpring("???#.??.?.???", "2,1,1");
            AddSpring("###?###??#?#?.", "7,2,2");
            AddSpring("??..#??#.#?#?##?", "2,1,1,7");
            AddSpring("?????##??..##?#?#", "7,6");
            AddSpring(".#????#??#??", "1,1,2,1");
            AddSpring("????.???#????", "1,1,1,1");
            AddSpring("???#.??????????.???", "1,1,4,2,1,2");
            AddSpring("?????.#?#?.?.?#???#?", "4,1,2,3,1");
            AddSpring(".#???#???#???", "1,10");
            AddSpring("?..????#???????..", "5,4");
            AddSpring("#?.??#???????.???", "2,4,4,1");
            AddSpring(".???????.??#????", "1,1,1,5,1");
            AddSpring("??#?????###?????????", "10,1");
            AddSpring(".#??????????????????", "5,10");
            AddSpring("#???#?????#??#?.?..?", "2,11,1");
            AddSpring("???.?????.??..", "2,1,2,1");
            AddSpring("??????#?????", "6,2");
            AddSpring("???.??#????#????##", "1,5,8");
            AddSpring("?#?#????..?#??.?", "4,1,2,1");
            AddSpring("????#???#????", "9,1");
            AddSpring("..??.?##???#.#??####", "7,7");
            AddSpring("???#???#???????##.?", "2,7,3");
            AddSpring(".?????????#?", "1,1,1,2");
            AddSpring("??.??#????#.", "1,8");
            AddSpring("???#???##..####??", "2,3,5");
            AddSpring("##?.?.#?.???.?#??.", "2,1,1,3");
            AddSpring(".???#??????.", "4,1,2");
            AddSpring("#??.????.??#?.??#", "1,1,1,4,3");
            AddSpring("?#?##??.??##?#???", "7,7");
            AddSpring("?.?#???#????.#?#", "1,3,2,1,3");
            AddSpring("#?.?#.??????.??", "2,1,4,1");
            AddSpring("????#???????#??", "4,6");
            AddSpring(".?????????????#.??", "6,4");
            AddSpring("??#??????#??.??#???.", "10,5");
            AddSpring(".??..??#???", "2,1,1");
            AddSpring("???.????????#?", "1,1,3");
            AddSpring("???.???.????", "1,1,1,3");
            AddSpring("????#????.", "6,2");
            AddSpring("??#.?#?????#", "1,1,3,3");
            AddSpring("?#.?.?#?#???#?#???..", "1,12");
            AddSpring("?????.???##", "1,5");
            AddSpring("????..#??.", "2,1");
            AddSpring("#??#?????#?#??#..", "1,3,8");
            AddSpring("????#????.????#?.?", "1,5,3,1");
            AddSpring("#????.??#.?.", "3,1,3");
            AddSpring("..##??...##?.?#?.?", "2,2,1");
            AddSpring("?##????#.??#.", "8,2");
            AddSpring("#..??##?????", "1,4,1,1");
            AddSpring("?.?..??????###??..??", "1,1,5,3,1,1");
            AddSpring("???.??##.??.", "2,3");
            AddSpring("??.???#????#??#?", "1,1,1,3,1");
            AddSpring("???#???#?????#?.", "4,7");
            AddSpring("?.?????#???????#?", "8,1");
            AddSpring("#?#???????#?", "1,4,2,1");
            AddSpring("??#?##.????#???", "4,4");
            AddSpring("?????.???#????#????", "1,1,5,1,2");
            AddSpring("?.?##???#.?#?.", "1,3,3,3");
            AddSpring("??.?#.???????", "1,1,5");
            AddSpring("?#???#??????.#?#", "6,2,1,1");
            AddSpring("???.?????#??.????", "1,1,4,1,1");
            AddSpring("?.?#?.??#??#??#.??", "2,7");
            AddSpring("??#??????.", "2,1,1");
            AddSpring("???????.?.?.?", "1,2,1,1");
            AddSpring("??#????#?..?????#??.", "1,3,2,1,2,3");
            AddSpring("?.#?..???.", "2,2");
            AddSpring("?#.?##.??#?#??..?", "2,2,6");
            AddSpring("??.?..???##.", "2,4");
            AddSpring("??..??#?..?#?.", "3,1");
            AddSpring("?.#?##?##?#.?#", "1,9,1");
            AddSpring("???????????.", "2,1,1");
            AddSpring("??????#????#????###", "1,1,1,1,8");
            AddSpring(".???#??.?.", "4,1");
            AddSpring(".#??###???#??.???", "1,9,1");
            AddSpring("##???????#????.", "4,1,4,1");
            AddSpring("#???#?.?.??.", "2,1,1,1");
            AddSpring("???#.??????", "1,4");
            AddSpring("???###..##?", "4,2");
            AddSpring("#????..##.?", "4,2");
            AddSpring("??###.??#?.", "4,3");
            AddSpring(".???..?.??????????", "3,9");
            AddSpring("#.???#?#??#.???..", "1,3,1,2,1");
            AddSpring("????.#???#??##", "3,9");
            AddSpring("????#??.????.", "2,4");
            AddSpring(".##???.?.?#", "5,1");
            AddSpring("?.?..##???##?.#.#", "1,1,8,1,1");
            AddSpring("?#??.???#.???#?????#", "3,1,1,9");
            AddSpring("..?????????##???", "7,3");
            AddSpring("???.??????..?#?", "1,1,2,1,2");
            AddSpring("????#????#??????.", "1,1,1,5,1");
            AddSpring(".#?#???.???", "6,1");
            AddSpring("?##?#???#?#?.??.?", "11,2,1");
            AddSpring("????.#???#??????????", "1,1,1,7,3,1");
            AddSpring("???#????????.", "3,4");
            AddSpring("???##?.??.???.??", "2,1");
            AddSpring("????#?#?#?", "1,3,1");
            AddSpring(".#??###?.#???.#?#??#", "6,1,1,4,1");
            AddSpring("??#?.?#???.??#???.#?", "4,5,4,1");
            AddSpring("?.?..?#??????.?#?#?.", "4,4");
            AddSpring("??#?##????###?", "5,4");
            AddSpring("?????#?#?##?#?#?", "1,1,1,1,6");
            AddSpring("??#??##??.?.???#????", "7,5");
            AddSpring(".#????.?????.#.???", "1,1,1,1,1,3");
            AddSpring("?.??#??????????", "1,1,1,4,1");
            AddSpring("?#??.?.???##??##?#", "1,1,1,8");
            AddSpring("???.#?.??????", "1,4");
            AddSpring("?.?..???????.#?.", "1,1,4,1,1");
            AddSpring("??#?.?#?##?", "2,5");
            AddSpring("???.????#???", "1,1,1");
            AddSpring("??#.???#???#?#??", "1,1,11");
            AddSpring("?.??#????.?####.", "4,5");
            AddSpring(".????#???#???#???#", "1,13");
            AddSpring("???#?#???????", "7,1,1");
            AddSpring("???????#???", "1,3,1");
            AddSpring("?#.?#??#?.#??", "1,6,1,1");
            AddSpring("??#?#?????..??.#", "10,1,1");
            AddSpring("????????.#?#????.??", "1,4,1,1,1,2");
            AddSpring("??.#?????#???.?#", "1,1,1,4,1");
            AddSpring("?#..?#?..?.???#?.?#", "1,3,1,5,1");
            AddSpring("?.??.???#??", "1,4");
            AddSpring(".????#??????#???", "1,11");
            AddSpring("#????.????.", "4,1");
            AddSpring("???????.?????????", "2,4");
            AddSpring("????????????..", "2,1");
            AddSpring("?????.?.?.#??#?#????", "5,1,1,6,1");
            AddSpring("??#?#?#??##.#", "6,3,1");
            AddSpring("?????#???.", "1,5");
            AddSpring("??.???.??.", "2,2,1");
            AddSpring("#???#?????", "1,2,1");
            AddSpring("???#???#??###??..???", "1,1,8,2");
            AddSpring("?.???????#??#????#", "2,11");
            AddSpring("????##.?.#..??", "5,1,1,2");
            AddSpring(".#..??#???#?#?", "1,1,7");
            AddSpring("?#??????##?##???.?", "2,1,8,1,1");
            AddSpring(".?###??#..???.?", "3,2,1");
            AddSpring("???#????.????????", "7,2,4");
            AddSpring("??????.???#???#?.?.?", "3,6");
            AddSpring("?#?.??#.?.", "2,1");
            AddSpring("?.????.??.????", "1,2,1,3");
            AddSpring("?##????????#?", "4,1,1,1");
            AddSpring("?.???????#?#?#???", "2,7");
            AddSpring("?#?##????.??.?#?#?.?", "5,1,2,4");
            AddSpring("??????.??.??##??#??#", "1,1,1,1,8,1");
            AddSpring("?###?.??.#.??#?", "5,1,1,1,1");
            AddSpring("???.#????#????", "1,6,1");
            AddSpring("..?#???#?.?.?????#?", "3,2,1,1,1,1");
            AddSpring("???##?#?#.?#??", "1,4,1,2");
            AddSpring("????#???.?.???##??", "1,6,1,6");
            AddSpring("?????.????????#.????", "2,1,1,2,2,2");
            AddSpring("?#?..?.?#??.??????", "2,1,3,5");
            AddSpring("???????#?#?.#?.??", "10,1,1");
            AddSpring("?.????.?.?????", "3,4");
            AddSpring("??##??##.....", "1,6");
            AddSpring("???#.??..#???###", "1,1,2,2,3");
            AddSpring("#??#??#??#??#?.", "2,1,1,6");
            AddSpring("?????#.???.??#?#???", "2,2,1,6");
            AddSpring(".??#?#????#???#???", "6,6");
            AddSpring(".??#???.?.#??????.??", "6,7");
            AddSpring("????.#?#?#?###?", "1,1,1,3,4");
            AddSpring("?#??.???????.", "2,1,3");
            AddSpring("???????.??.????", "3,2,1,1");
            AddSpring("??.?.????#??#??????#", "1,1,12,1");
            AddSpring("?#????.?#?", "2,2,2");
            AddSpring(".#??#.????#??.#?", "2,1,1,3,1");
            AddSpring("???#?#??.??#?.", "1,1,1,3");
            AddSpring(".?#?.??#????", "2,2");
            AddSpring("???????#?????????#?#", "1,1,3,9");
            AddSpring("??????.??#??", "1,1,1,1");
            AddSpring(".?.???#???##?#???", "1,8,1,1");
            AddSpring("?#?#??.????", "4,1,3");
            AddSpring("..???????.", "1,1,1");
            AddSpring("?.????#.????????##?", "3,3,2");
            AddSpring("??#?????#????", "3,1,4,1");
            AddSpring("?????.???#?????", "2,1,1,2,3");
            AddSpring("?#??.?.??#????", "3,1,5,1");
            AddSpring("?.????????#???#??", "1,8,2,1");
            AddSpring("?#??.#?#?###??#???", "3,1,6,1,1");
            AddSpring("#?#??????#??.??", "3,1,1,2,1");
            AddSpring(".??????#???.??#.", "1,1,4,2");
            AddSpring(".?#?..???.", "2,1");
            AddSpring("##.#.#?#???#??#", "2,1,4,4");
            AddSpring("???#?????#?#?????#??", "2,5,6");
            AddSpring("???#.?#???????.", "4,1,1,1,1");
            AddSpring("???##.????.?.?????#.", "4,1,1,6");
            AddSpring("?.?.??..?.???#??????", "1,1,1,1,6,1");
            AddSpring("?#?????##???.", "2,8");
            AddSpring("##???#?##?.???????", "9,2,3");
            AddSpring("?.????.??##??", "1,2,5");
            AddSpring("???.????.???", "1,1,2,2");
            AddSpring("??.?.?.??#?#???#", "1,1,1,6,1");
            AddSpring(".?#?##??????????", "8,1,1");
            AddSpring("?.#??.?????????.????", "1,7,1");
            AddSpring("????##???..?.?", "2,2,1,1");
            AddSpring(".?##???#????", "9,1");
            AddSpring("???#????.?#?.??", "6,3,1");
            AddSpring("?????..??###???#???", "3,11");
            AddSpring("???#???#??.?#.???", "1,1,4,2,2");
            AddSpring("????.?###?#??", "1,6");
            AddSpring("#??.?..?##??", "2,1,5");
            AddSpring("??#?#?#?##??###?#?", "4,11");
            AddSpring("###??.??#??#?#??.???", "3,1,1,6,1,1");
            AddSpring("??????????#?#???.#", "2,1,1,4,2,1");
            AddSpring("????????????????", "1,1,1,5");
            AddSpring(".?#?##??..?????.", "7,3");
            AddSpring(".?.???.?#?", "3,2");
            AddSpring("##????.###????#????#", "2,1,4,3,4");
            AddSpring("??#?#??.#???.?", "7,3");
            AddSpring("?????#?#?#???????#", "1,6,1,1,1,2");
            AddSpring("?.??#.?..?#?.", "2,2");
            AddSpring("?#??.??#??????", "2,8");
            AddSpring("?????.?.??##???#??#?", "1,1,1,12");
            AddSpring("??.???????", "1,5,1");
            AddSpring("###??????.????.", "6,1,3");
            AddSpring("??#?.????????", "1,1,3,2");
            AddSpring("?????#?????#", "2,4,1");
            AddSpring("#.?#????????.??.", "1,3,1,3,1");
            AddSpring("?#???#???#?.", "3,5");
            AddSpring("???.????#?###?#?#?", "1,1,1,1,1,7");
            AddSpring("#...?#??#?..#", "1,4,1");
            AddSpring("##???????.???#?##.#", "4,1,1,4,1");
            AddSpring("???..??...", "3,2");
            AddSpring("???.????????.?", "3,4,1");
            AddSpring("???.??????#??.?", "1,1,8,1");
            AddSpring("#????.????????##.", "3,1,2,7");
            AddSpring(".????????#?", "1,3,2");
            AddSpring("????#?#??????#????", "10,4,1");
            AddSpring("#????##?#?????##.?", "1,11");
            AddSpring("?.#?..?#????###.???", "2,9,2");
            AddSpring(".???#?#?#??????#?", "1,5,6");
            AddSpring("??#????.#???#", "5,1,1,1");
            AddSpring(".?????????.???.", "2,3,1,1");
            AddSpring("?.#?#??#?#?..#", "9,1");
            AddSpring("?#?.?#?#??????#.#?", "1,5,1,1,1");
            AddSpring(".?#?###??.????#???", "7,1,3");
            AddSpring("???.??##?..", "1,3");
            AddSpring("#??????.?#???.#??", "1,4,2,3");
            AddSpring("???###????..?", "1,3,1");
            AddSpring(".#??.?#??...?", "2,3,1");
            AddSpring(".?.#?.?#??", "1,3");
            AddSpring("?.?????#???.#?#?.?", "8,4");
            AddSpring(".?#?###??##?", "6,3");
            AddSpring("#????#???#???#??#?", "3,1,10");
            AddSpring(".#??#?????#?.#.??##?", "1,2,1,1,1,4");
            AddSpring("??#???????....#??", "9,1");
            AddSpring("#...#???###?##??.", "1,1,8,1");
            AddSpring("????.?##???#.???", "1,1,4,1,1");
            AddSpring("#??.???????#???#.", "2,1,3,1,3");
            AddSpring(".#?#??????.?.", "8,1");
            AddSpring("???#?????????##.?.#.", "14,1,1");
            AddSpring(".?#??#???.", "5,1");
            AddSpring("????.?#???.#?#.?", "2,3,1,1");
            AddSpring("?#?#???#.?.?#?????", "8,6");
            AddSpring("?#?#.???..?#??", "3,3,4");
            AddSpring(".???????##?.", "1,7");
            AddSpring("?##?????????.#?", "2,2,2,1,1");
            AddSpring("??#???.???????#", "1,3,3,2,1");
            AddSpring("??..?.?#??", "1,1,2");
            AddSpring("#??????.?#.?", "1,1,1,1");
            AddSpring("??.??????..???", "6,1");
            AddSpring("???#.??#?#?.#", "1,1,3,1");
            AddSpring("#??.??????##?###?#?", "1,14");
            AddSpring("????????.???.", "1,5,1,1");
            AddSpring(".??#?#?????#??", "5,1");
            AddSpring("#????.#?#.??#????", "1,3,1,1,5");
            AddSpring("?????#?.#..???.", "2,4,1,1");
            AddSpring("???##?????????..", "8,2");
            AddSpring("?..?.?????", "1,1,1");
            AddSpring("???..#..?.??#.", "1,1,1,3");
            AddSpring("..???#????.?#??#??", "5,5");
            AddSpring("?#??#.??????.??", "5,1,3,1");
            AddSpring("#???#.#??#.??#?#.", "3,1,4,3");
            AddSpring("???????#?????#.?", "3,1,2,4,1");
            AddSpring("??...?#?????????#", "1,4,6");
            AddSpring("???.#?###??#???????#", "1,1,12,2");
            AddSpring("??.#?.?..??.?.", "1,2,1");
            AddSpring(".#?#?.??#???#??.?##", "4,1,2,1,3");
            AddSpring("#??????.????#?#?", "2,1,2,3");
            AddSpring("???#??.???????#???", "2,4,2");
            AddSpring("?#?.?..#???.?#?????", "1,1,1,6");
            AddSpring(".????#?#??##?#.?", "1,11");
            AddSpring("??#???##????#?", "6,1");
            AddSpring("????#????????????.#?", "5,1,3,2,1,1");
            AddSpring("?.????????.#?.?.??#", "1,6,1,1,1,1");
            AddSpring("????#??#?#????.?", "1,8,2,1");
            AddSpring("##?#.??#???", "4,2");
            AddSpring(".#.?????#????.", "1,2,5");
            AddSpring("?###??##???.", "3,5");
            AddSpring("???????#..????#??.?", "2,1,6");
            AddSpring("???#?#????#.", "6,1");
            AddSpring("?.??#.????..??", "1,1,3,1");
            AddSpring("???.??.???#", "2,1,2");
            AddSpring("##.??#?#???.", "2,6");
            AddSpring("#??.?#.??#?#?#.????", "1,1,2,6,1,1");
            AddSpring("??.?.??..?.?", "1,1,1,1");
            AddSpring(".???.##????", "2,6");
            AddSpring("??.??#???#?#??????#?", "2,11,2");
            AddSpring("##??#?.??.", "2,2");
            AddSpring("#.??#??#??????.?.", "1,1,10,1");
            AddSpring("???#??#???.##?.?", "3,2,1,2,1");
            AddSpring(".?#.??#...?#??", "1,2,3");
            AddSpring("??????????????#??", "2,11");
            AddSpring(".?#?#.????", "2,1,1");
            AddSpring("#?##?#??#?#?.", "1,7,2");
            AddSpring("??????.????", "1,1,1");
            AddSpring("#??.???#??.??#?", "1,1,1,1,3");
            AddSpring("#???????#???.?", "4,4");
            AddSpring("?#?.??..#??#???", "3,2,1,1");
            AddSpring("??.??..#?.#????.??", "1,1,2,5,1");
            AddSpring("?#??#???.???.???", "7,1,1,1,1");
            AddSpring("?.?????.????", "1,5,1,1");
            AddSpring("????#?????.???????", "1,5,1,1,1");
            AddSpring("???????##?.??.?", "3,5,1");
            AddSpring("?#.??????.????", "1,2,1,3");
            AddSpring("???#?#??.????", "1,4,1");
            AddSpring("?#????.?#.???#", "1,1,1,4");
            AddSpring("?.?#??????.?##", "5,3");
            AddSpring("????#?.?#?", "2,1,2");
            AddSpring("?????.?.#???", "4,1,1");
            AddSpring("???#??#???", "7,1");
            AddSpring("#?????.?#?##?#", "1,2,6");
            AddSpring("?.??.??.????#???", "1,1,2,5,1");
            AddSpring("..?###.?????#?#??.", "3,9");
            AddSpring("#?????.????.?#??", "3,1,1,2,3");
            AddSpring(".????????.?#??#?", "2,1,4");
            AddSpring("?#??.??????.??.#", "3,5,1,1");
            AddSpring("???????.??.???", "4,1,1");
            AddSpring("?????#??.?#?#??", "3,5");
            AddSpring("?##?????.??#????", "2,4,1,1");
            AddSpring("??.????.?????.", "1,2");
            AddSpring("????????#?", "1,3,1");
            AddSpring(".?????????..#??#??.#", "2,1,1,6,1");
            AddSpring("??..????##?.???.#.??", "1,7,1,1,1");
            AddSpring("????#?.#??##?????", "6,1,6");
            AddSpring("?#.#??#?#??????#", "1,1,8,1");
            AddSpring("?.?.?????.", "1,1,5");
            AddSpring("?#????#?.???.?.", "1,1,1,3,1");
            AddSpring(".??.??.##??#??", "1,1,7");
            AddSpring("?.#??????#.???#", "8,2");
            AddSpring("?.?##?????##?.??.", "6,2");
            AddSpring("?#???#.#?#", "5,3");
            AddSpring("?.??????#??#", "6,2");
            AddSpring("?#??#????#?.?..?#", "5,1,1,1,2");
            AddSpring("????###?##.???.#?#?.", "10,4");
            AddSpring("#???#???##??", "2,8");
            AddSpring("#??#?##?#?#..?##", "7,1,1,3");
            AddSpring("????#?????.?.#?", "9,1");
            AddSpring("#.?????.??.?????", "1,2,1,1,3");
            AddSpring("?.?#?????#???", "1,1,1,2");
            AddSpring("??#???.??#?", "4,1");
            AddSpring("???????#??#??.?#", "1,1,7,1,1");
            AddSpring(".??.???.#??#?#?#??", "2,8");
            AddSpring("???##.??#??????.?", "4,2,1,1");
            AddSpring("#?.????#???????????", "1,8,1,1,1");
            AddSpring("????????????????", "5,7,1");
            AddSpring(".?.?#???.??#", "1,2,2,2");
            AddSpring(".??##???????", "5,1,2");
            AddSpring("??.???#???##??#??#??", "2,1,1,9");
            AddSpring("?????.??.??###?#.?", "1,1,1,1,7,1");
            AddSpring("?.?###.???#??.?.#??", "1,3,2,1,1,3");
            AddSpring("?.??.?##??????", "1,2,6,1");
            AddSpring("?#?#??#?##??????##??", "10,1,1,2,1");
            AddSpring("#?.??.???#?#", "1,1,1,1");
            AddSpring(".???.?????????#??", "2,1,9");
            AddSpring("?????#?????#?.#?#?#", "1,1,1,3,5");
            AddSpring("???#.#?????.", "1,1,1,1");
            AddSpring("??..??#?.##???#????", "2,1,1,6,1,1");
            AddSpring("????????#??", "1,1,5");
            AddSpring("?????????#", "4,3");
            AddSpring("??###?#.#???????.", "6,5");
            AddSpring("?.#??#?.?#.", "2,2,1");
            AddSpring("?#???#??#??#??", "1,2,2,1");
            AddSpring(".?..##??#??.?", "1,6");
            AddSpring("??#??#?#.??.????", "8,1,1,1");
            AddSpring("??####?????????", "5,1,1,1,1");
            AddSpring("#???????????", "3,3");
            AddSpring("??#???##?#?.#?????.", "9,1,2");
            AddSpring("???##???.#", "7,1");
            AddSpring("???.?#??.?", "1,2,1");
            AddSpring("?.????.????", "4,1");
            AddSpring("#?#?#???#?", "5,3");
            AddSpring("#???????.#", "7,1");
            AddSpring("??##.???#?????", "3,1,4,2");
            AddSpring("??.???.??.", "2,1");
            AddSpring("???##?...?????#", "5,1,1,1");
            AddSpring(".???#???#?", "1,1,2");
            AddSpring("??.?#??#?#.???.???", "1,7,1,1");
            AddSpring("##????????#??#?.#?.?", "11,1,1,1");
            AddSpring("??.?#??.#..???", "2,3,1,2");
            AddSpring("#??#??#??.", "1,1,3");
            AddSpring("?#?#???#?????", "6,3,1");
            AddSpring("??#???#????????", "3,6,2");
            AddSpring("?##?????#?#??##???.?", "3,1,9");
            AddSpring("???.???.?.", "1,1,1");
            AddSpring("###???????", "4,4");
            AddSpring(".???#?????????.?.", "11,1");
            AddSpring("???#.?.###??#?#????", "2,1,1,3,5,1");
            AddSpring("?.#??#???#???#?.#??", "1,1,11,2");
            AddSpring("??.?.??##?##.???", "1,7,1");
            AddSpring("???.???##???????#???", "3,9,3");
            AddSpring("?????????????#?.?", "5,2,4");
            AddSpring("?.?????#??????#?", "1,1,4,4");
            AddSpring("???.????#?#?#.#?", "1,1,2,5,1");
            AddSpring(".?.??..?#???#??", "1,2,4,1,1");
            AddSpring("??#?..?#???????", "1,7");
            AddSpring(".#??#?#??.?#?###????", "7,7");
            AddSpring("#??#.?????##.", "2,1,1,2");
            AddSpring("???#???????????#?", "4,1,1,4");
            AddSpring("????###?###???", "1,10");
            AddSpring("???####?#???#??#?", "13,2");
            AddSpring("?.?..???#?.", "1,4");
            AddSpring("?.#?#.?.#??.?##???#?", "3,2,6");
            AddSpring("?#???.??###.?", "1,5");
            AddSpring("????????.#?.??.", "2,1,2,1,1");
            AddSpring("?#?#???#.#?#??", "2,1,2,5");
            AddSpring("#..#??????#..#??", "1,8,1");
            AddSpring("???..?#??.?", "3,4,1");
            AddSpring("????###?#?.?..#", "3,6,1,1");
            AddSpring(".?#.?#?#?##.???.", "2,1,4,1");
            AddSpring("#???#???#?#?##???#?.", "15,1");
            AddSpring("??????.?#????.??.", "1,3,1,2,2");
            AddSpring("?#??????#??#??..?", "8,3");
            AddSpring("??#?.???#?##????.??", "1,2,1,7,1,1");
            AddSpring("?.???.??##??.", "1,1,3");
            AddSpring("??????????", "2,6");
            AddSpring("??.?#?#?#????", "6,1,1");
            AddSpring(".???##??#?.?.", "8,1");
            AddSpring("???#????####?.??#?.#", "12,1,1,1");
            AddSpring("?#??##?#?#?????##?", "9,2,3");
            AddSpring("#?????.???", "1,1,2");
            AddSpring("?##?.???#..??????", "3,2,2,2");
            AddSpring(".##?#??.????", "4,1,1");
            AddSpring("?#.????.?##", "2,1,2");
            AddSpring("????#????.", "1,2,1");
            AddSpring("??#???.?#.??#", "5,2,3");
            AddSpring("#???#.?????", "1,2,4");
            AddSpring("??##?????.?.?#?.?", "4,1,1,1,1");
            AddSpring("??.???????", "2,3,1");
            AddSpring(".??.?#???????????", "1,12");
            AddSpring("???#####.#???#??#", "1,5,6,1");
            AddSpring("???#?????.?#??#?.??", "1,1,2,2,2,1");
            AddSpring("???#??##??.#????#??", "2,3,3,2");
            AddSpring("??#???.##.", "2,2");
            AddSpring("##?#?#???????##?#???", "8,5,2");
            AddSpring("?.????#.?#???", "5,2");
            AddSpring("??#??##??#.??#?#?", "6,2,1,4");
            AddSpring("?????????##?.", "2,4,3");
            AddSpring("????#?.???.??", "2,2,1,1");
            AddSpring("?.##?#????#?#???#??", "1,15");
            AddSpring("#??#??#????", "1,6,1");
            AddSpring("???.?###????..", "2,5,1");
            AddSpring("?.??????#?.?.?", "2,2,1,1");
            AddSpring("???#.??.?#???????#.", "3,1,2,1,1,2");
            AddSpring("?.???.#??.", "3,2");
            AddSpring("##..??.???????.", "2,1,2,1");
            AddSpring(".??????##?.?.#???", "3,2,1,3");
            AddSpring("?????.????#?", "3,1,1");
            AddSpring("???????#??.?##?##???", "7,3,3");
            AddSpring("??#..?##?#?", "3,2,2");
            AddSpring("?.???.???#?#??", "2,7");
            AddSpring("##?#?#?#???????.?", "6,2,1,1,1");
            AddSpring("#.??#?#?#???", "1,7,1");
            AddSpring(".?.???#####?", "1,8");
            AddSpring("???????.?..?.", "2,1");
            AddSpring("?##?.#???????.?", "2,3,1,1");
            AddSpring("???..?.?#???#??.", "2,1,1,5");
            AddSpring(".#?????#?#????", "1,3");
            AddSpring("????#?..????...??", "1,3,2,1");
            AddSpring(".?#?#????????", "5,6");
            AddSpring(".###?.???#??.??????", "3,3,5");
            AddSpring("?????..???????????.", "1,3,3");
            AddSpring("???????.?#???????", "1,1,2,8");
            AddSpring("#??.#???#???.", "1,1,6,1");
            AddSpring("?#?????#??????", "8,3");
            AddSpring("#???#?#?..?", "1,5,1");
            AddSpring("?#?.??????????#??", "3,2,2,2,1");
            AddSpring("?#?.#???#??##??.???", "1,1,1,1,5,1");
            AddSpring("?.???###.??#?????", "1,1,3,1,6");
            AddSpring("???##??.??", "5,1");
            AddSpring("????#???#??????", "1,11");
            AddSpring("#?????#???#????.", "1,2,1,3,2");
            AddSpring("??????##.?.", "1,5,1");
            AddSpring("#????.?.?##???????", "1,1,1,4,1,2");
            AddSpring("???#???#???#..?#", "1,1,6,1");
            AddSpring("#?.?####?.", "2,5");
            AddSpring("???..#.??.?", "3,1");
            AddSpring("?????#.???", "2,1");
            AddSpring("??.?.????.", "1,1");
            AddSpring("?#?#???.?###??#??.", "1,1,2,9");
            AddSpring(".?#..??#????#?#", "2,3,5");
            AddSpring("?.#?#??#?#.", "1,6,1");
            AddSpring(".#?.???????????#..?", "2,5,1,1,1,1");
            AddSpring("??..???.?#?????????", "1,3,2,1,1,1");
            AddSpring("??.?#??#..???.", "2,3,1,2");
            AddSpring("#????.?????#.????", "4,6,2");
            AddSpring("?##.?.?#?.", "3,1,2");
            AddSpring("?????#?.???????.", "4,1,3");
            AddSpring(".?##?..#?#.???????", "2,1,1,2,2,1");
            AddSpring("?.##?#?.??.", "4,1");
            AddSpring("??????#?#?", "1,1,3");
            AddSpring("?.??#??????#?????.?", "1,8,3,1,1");
        }
    }
}